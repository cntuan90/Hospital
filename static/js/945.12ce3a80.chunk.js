"use strict";(self.webpackChunkhospital=self.webpackChunkhospital||[]).push([[945],{7945:function(e,n,r){r.r(n),r.d(n,{default:function(){return T}});var t=r(4165),a=r(5861),s=r(885),o=r(3994),i=r(5289),l=r(5661),c=r(7123),u=r(6151),d=r(9276),p=r(763),h=r(2426),v=r.n(h),f=r(9105),m=r(2791),x=r(1134),g=r(1523),b=r(9271),Z=r(192),w=r(1413),j=r(5051),k=r(8317),y=r(184),C=m.forwardRef((function(e,n){return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(j.Z,(0,w.Z)((0,w.Z)({ref:n},e),{},{children:e.children}))})})),S=(0,k.Z)((function(){return{root:{height:"28px",width:"210px",borderRadius:"25px",padding:"10px 22px",backgroundColor:"none",margin:"0 10px",color:"#53abe0",transition:"opacity 0.2s linear","& a":{color:"#53abe0"},"&:hover":{backgroundColor:"#606060",color:"#ebebeb","& a":{backgroundColor:"#606060",color:"#ebebeb"}},"&:disabled":{backgroundColor:"#e0e0e0",color:"#a7a7a7"}}}}))(C),N=r(4359),D=r(9123),R=r(3441),B=r(6225),I=r(1135),A=(0,B.Z)((function(e){return(0,I.Z)({root:{marginLeft:"1rem"},lineSpace:{borderBottom:"1px solid rgba(196, 196, 196, 0.4)",width:"100%",margin:"10px 0"},setWidthDropdown:{width:"60px",marginRight:"5px"},cssSaveButton:{width:"200px"},cssFooter:{alignItems:"right",display:"flex",justifyContent:"flex-end"},cssButton:{background:"inherit",width:"220px"},cssRowTable:{fontSize:"16px !important"},cssNameTitle:{color:e.palette.primary.main},cssDeleteBtn:{width:"30px",height:"30px",borderRadius:999,background:"inherit",display:"flex",alignItems:"center",justifyContent:"center","&:hover":{background:"rgba(196, 196, 196, 0.4)",cursor:"pointer"}}})})),T=function(){var e=A(),n=((0,b.k6)(),(0,m.useState)(!0)),r=(0,s.Z)(n,2),h=r[0],w=r[1],j=(0,f.Ds)().enqueueSnackbar,k=(0,m.useState)([]),C=(0,s.Z)(k,2),B=C[0],I=C[1],T=(0,m.useState)([]),V=(0,s.Z)(T,2),E=V[0],M=V[1],F=(0,m.useRef)(),Y=(0,x.cI)({mode:"onChange",defaultValues:{csvInput:null}}),H=(Y.handleSubmit,Y.control,Y.watch,Y.setValue,Y.getValues,[{id:"staffName",align:"center",label:"\u6c0f\u540d",width:"100px",content:function(n,r,t){return(0,y.jsx)(o.Z,{align:this.align,component:"th",id:"enhanced-table-checkbox-".concat(r),scope:"row",className:e.cssRowTable,children:(0,y.jsx)(g.rU,{to:"/staffManagement/edit/".concat(null===n||void 0===n?void 0:n.id),className:e.cssNameTitle,children:"".concat(null===n||void 0===n?void 0:n.last_name," ").concat(null===n||void 0===n?void 0:n.first_name)||""})},r)}},{id:"mailAddress",align:"center",label:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9",width:"200px",content:function(n,r,t){return(0,y.jsx)(o.Z,{align:this.align,className:e.cssRowTable,children:(null===n||void 0===n?void 0:n.email)||""},r)}},{id:"group",align:"center",label:"\u30b0\u30eb\u30fc\u30d7",width:"150px",content:function(n,r,t){return(0,y.jsx)(o.Z,{align:this.align,className:e.cssRowTable,children:(null===n||void 0===n?void 0:n.groups)||""},r)}}]),_=(0,m.useState)(!1),L=(0,s.Z)(_,2),O=L[0],P=L[1],U=function(){P(!1)},W=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){var n,r,a,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),n=E.map((function(e){return B[e].id})),e.next=5,(0,Z.yt)(n);case 5:e.sent,j(R.v.succeedDelete,{variant:"success"}),K(),M([]),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),s=null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.messages,(0,p.isArray)(s)&&(null===s||void 0===s?void 0:s.length)>0?s.forEach((function(e){j(e||"",{variant:"error"})})):j(e.t0.response.data.messages||e.t0.response.data.errors||"\u30b5\u30fc\u30d0\u30fc\u5074\u3067\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002",{variant:"error"});case 15:return e.prev=15,w(!1),P(!1),e.finish(15);case 19:case"end":return e.stop()}}),e,null,[[0,11,15,19]])})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){var n,r,a,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),n="\u30b9\u30bf\u30c3\u30d5\u7ba1\u7406-".concat(v()().format("YYYYMMDDHHmmss")),e.next=5,(0,Z._M)(n);case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),s=null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.messages,(0,p.isArray)(s)&&(null===s||void 0===s?void 0:s.length)>0?s.forEach((function(e){j(e||"",{variant:"error"})})):j(e.t0.response.data.messages||e.t0.response.data.errors||"\u30b5\u30fc\u30d0\u30fc\u5074\u3067\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002",{variant:"error"});case 11:return e.prev=11,w(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,7,11,14]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r,a,s,o,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null===(r=n.target.files)||void 0===r?void 0:r.item(0),e.prev=1,w(!0),e.next=5,(0,Z.rV)(a);case 5:K(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),i=null===e.t0||void 0===e.t0||null===(s=e.t0.response)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.messages,(0,p.isArray)(i)&&(null===i||void 0===i?void 0:i.length)>0?i.forEach((function(e){j(e||"",{variant:"error"})})):j(e.t0.response.data.messages||e.t0.response.data.errors||"\u30b5\u30fc\u30d0\u30fc\u5074\u3067\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002",{variant:"error"});case 12:return e.prev=12,w(!1),F.current.value="",e.finish(12);case 16:case"end":return e.stop()}}),e,null,[[1,8,12,16]])})));return function(n){return e.apply(this,arguments)}}(),K=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){var n,r,a,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),e.next=4,(0,Z.FS)();case 4:n=e.sent,(0,p.isArray)(n)&&I(n),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),s=null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.messages,(0,p.isArray)(s)&&(null===s||void 0===s?void 0:s.length)>0?s.forEach((function(e){j(e||"",{variant:"error"})})):j(e.t0.response.data.messages||e.t0.response.data.errors||"\u30b5\u30fc\u30d0\u30fc\u5074\u3067\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002",{variant:"error"});case 12:return e.prev=12,w(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,8,12,15]])})));return function(){return e.apply(this,arguments)}}();return(0,m.useEffect)((function(){K()}),[]),(0,y.jsx)(D.Z,{isLoading:h,children:(0,y.jsxs)(d.Z,{className:e.root,maxWidth:"1200px",children:[(0,y.jsx)(N.Z,{data:B||[],columns:H,setHeaderColor:"#e7e7e7",rowsPerPageOptions:R.l,onItemSelect:function(e){return M(e)},onItemDelete:function(){E.length&&P(!0)}}),(0,y.jsx)(d.Z,{className:e.lineSpace}),(0,y.jsx)(d.Z,{style:{margin:"1rem"},children:(0,y.jsx)(S,{component:"label",className:e.cssButton,children:(0,y.jsx)(g.rU,{to:"/staffManagement/add",children:"\uff0b\u30b9\u30bf\u30c3\u30d5\u3092\u8ffd\u52a0\u3059\u308b"})})}),(0,y.jsxs)(d.Z,{style:{margin:"1rem"},children:[(0,y.jsxs)(S,{component:"label",className:e.cssButton,children:[(0,y.jsx)("a",{style:{textDecoration:"underline"},children:"CSV\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9"}),(0,y.jsx)("input",{id:"fileInput",type:"file",ref:F,hidden:!0,onChange:z})]}),(0,y.jsx)(S,{component:"label",className:e.cssButton,onClick:q,children:(0,y.jsx)("a",{style:{textDecoration:"underline"},children:"CSV\u96db\u5f62\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9"})})]}),(0,y.jsxs)(i.Z,{open:O,onClose:U,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,y.jsx)(l.Z,{id:"alert-dialog-title",children:"\u9078\u629e\u3057\u305f\u9805\u76ee\u3092\u524a\u9664\u3057\u3066\u3082\u3044\u3044\u3067\u3059\u304b\uff1f"}),(0,y.jsxs)(c.Z,{children:[(0,y.jsx)(u.Z,{onClick:U,color:"primary",children:"\u30ad\u30e3\u30f3\u30bb\u30eb"}),(0,y.jsx)(u.Z,{onClick:W,color:"primary",autoFocus:!0,children:"OK"})]})]})]})})}}}]);
//# sourceMappingURL=945.12ce3a80.chunk.js.map