"use strict";(self.webpackChunkhospital=self.webpackChunkhospital||[]).push([[668],{192:function(t,n,e){e.d(n,{Do:function(){return m},FS:function(){return x},Fv:function(){return s},H2:function(){return y},HK:function(){return C},MQ:function(){return N},Mw:function(){return f},NH:function(){return r},Qp:function(){return j},SC:function(){return v},V_:function(){return w},WE:function(){return _},Wr:function(){return A},_M:function(){return Z},jL:function(){return h},k7:function(){return u},kU:function(){return p},rV:function(){return S},sK:function(){return T},sV:function(){return l},sq:function(){return b},un:function(){return d},vX:function(){return c},xG:function(){return g},yt:function(){return k}});var i=e(4165),a=e(5861),o=e(3565),r=function(){var t=(0,a.Z)((0,i.Z)().mark((function t(n){var e,a;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.postJsonData("/api/setting/entryShiftSetting",{},n);case 2:return e=t.sent,a=e.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),d=function(){var t=(0,a.Z)((0,i.Z)().mark((function t(){var n,e;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.get("/api/setting/listShiftSetting",{});case 2:return n=t.sent,e=n.data,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=function(){var t=(0,a.Z)((0,i.Z)().mark((function t(){var n,e;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.postJsonData("/api/group/getListAssignment",{},{});case 2:return n=t.sent,e=n.data,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s=function(){var t=(0,a.Z)((0,i.Z)().mark((function t(){var n,e;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.get("/api/staff/listStaff",{});case 2:return n=t.sent,e=n.data,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u=function(){var t=(0,a.Z)((0,i.Z)().mark((function t(n){var e,a;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.postJsonData("/api/group/createGroup",{},n);case 2:return e=t.sent,a=e.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),c=function(){var t=(0,a.Z)((0,i.Z)().mark((function t(n){var e;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={id:[n]},t.next=3,o.Z.postJsonData("/api/group/deleteGroup",{},e);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),f=function(){var t=(0,a.Z)((0,i.Z)().mark((function t(){var n,e;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.get("/api/group/getListGroup",{});case 2:return n=t.sent,e=n.data,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),v=function(){var t=(0,a.Z)((0,i.Z)().mark((function t(n){var e,a;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.postJsonData("/api/setting/group/setRequireNumber",{},n);case 2:return e=t.sent,a=e.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),p=function(){var t=(0,a.Z)((0,i.Z)().mark((function t(){var n,e;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.get("/api/setting/listHoildaySetting",{});case 2:return n=t.sent,e=n.data,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),_=function(){var t=(0,a.Z)((0,i.Z)().mark((function t(n){var e,a;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.postJsonData("/api/setting/entryHolidaySetting",{},n);case 2:return e=t.sent,a=e.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),g=function(){var t=(0,a.Z)((0,i.Z)().mark((function t(n){var e,a,r;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={id:[n]},t.next=3,o.Z.postJsonData("/api/setting/deleteHoliday",{},e);case 3:return a=t.sent,r=a.data,t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),h=function(){var t=(0,a.Z)((0,i.Z)().mark((function t(){var n,e;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.get("/api/setting/listNotificationSetting",{});case 2:return n=t.sent,e=n.data,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),y=function(){var t=(0,a.Z)((0,i.Z)().mark((function t(n){var e,a;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.postJsonData("/api/setting/entryNotificationSetting",{},n);case 2:return e=t.sent,a=e.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),m=function(){var t=(0,a.Z)((0,i.Z)().mark((function t(n){var e,a;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.postJsonData("/api/setting/updateInfoAdmin",{},n);case 2:return e=t.sent,a=e.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),x=function(){var t=(0,a.Z)((0,i.Z)().mark((function t(){var n,e;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.get("/api/staff/listStaffWithGroup",{});case 2:return n=t.sent,e=n.data,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),b=function(){var t=(0,a.Z)((0,i.Z)().mark((function t(n){var e,a;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.get("/api/staff/detailStaff?id=".concat(n),{});case 2:return e=t.sent,a=e.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),Z=function(){var t=(0,a.Z)((0,i.Z)().mark((function t(n){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.downloadCsv("/api/staff/downloadStaff",{},n);case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),S=function(){var t=(0,a.Z)((0,i.Z)().mark((function t(n){var e;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={upload_file:n},t.next=3,o.Z.postMutipartData("/api/staff/uploadStaff",{},e);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),k=function(){var t=(0,a.Z)((0,i.Z)().mark((function t(n){var e;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={id:n},t.next=3,o.Z.postJsonData("/api/staff/deleteStaff",{},e);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),w=function(){var t=(0,a.Z)((0,i.Z)().mark((function t(n){var e,a;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.postJsonData("/api/staff/createStaff",{},n);case 2:return e=t.sent,a=e.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),j=function(){var t=(0,a.Z)((0,i.Z)().mark((function t(n){var e,a;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.postJsonData("/api/staff/updateStaff",{},n);case 2:return e=t.sent,a=e.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),C=function(){var t=(0,a.Z)((0,i.Z)().mark((function t(){var n,e;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.get("/api/management/list",{});case 2:return n=t.sent,e=n.data,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),A=function(){var t=(0,a.Z)((0,i.Z)().mark((function t(n){var e,a;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.postJsonData("/api/management/getAllStaffShiftDetail",{},n);case 2:return e=t.sent,a=e.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),T=function(){var t=(0,a.Z)((0,i.Z)().mark((function t(n){var e,a;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.postJsonData("/api/management/updateTargetShiftNumber",{},n);case 2:return e=t.sent,a=e.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),N=function(){var t=(0,a.Z)((0,i.Z)().mark((function t(n){var e,a;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.postJsonData("/api/management/adminShiftRegister",{},n);case 2:return e=t.sent,a=e.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()},9123:function(t,n,e){e.d(n,{Z:function(){return s}});var i=e(2739),a=e(3239),o=e(6225),r=e(1135),d=(e(2791),e(184)),l=(0,o.Z)((function(t){return(0,r.Z)({backdrop:{zIndex:t.zIndex.drawer+1,color:"#fff"}})})),s=function(t){var n=t.children,e=t.isLoading,o=void 0!==e&&e,r=l();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i.Z,{className:r.backdrop,open:o,onClick:function(){},children:(0,d.jsx)(a.Z,{color:"inherit"})}),n]})}},7668:function(t,n,e){e.r(n),e.d(n,{default:function(){return zt}});var i=e(1413),a=e(2982),o=e(4165),r=e(5861),d=e(885),l=e(8870),s=e(2477),u=e(8980),c=e(9281),f=e(703),v=e(9836),p=e(3382),_=e(5855),g=e(3994),h=e(5289),y=e(9157),m=e(1889),x=e(8096),b=e(7275),Z=e(890),S=e(4454),k=e(8182),w=e(763),j=e(2419),C=e(5585),A=e(2426),T=e.n(A),N=e(9105),I=e(2791),R=e(1134),L=e(1523),z=e(9271),D=e(192),H=e(8328),E=e(5671),B=e(3144),M=e(136),W=e(9388),Y=e(9783),F=e(1979),P=e(4697),O=e(9123),G=e(2124),J=e(5380),q=e(861),V=e(4923),Q=e(9823),K=e(6225),U=e(1135),X=(0,K.Z)((function(t){return(0,U.Z)({root:{width:"100%"},cssSaveButton:{width:"150px"},setStyleCalendar:{minHeight:"480px",maxWidth:"500px","& .MuiButtonBase-root":{cursor:"default"},"& .MuiTypography-root":{width:"100px",fontSize:"24px !important",margin:0,border:"1px solid #fff",color:"#fff",background:t.palette.primary.light},"& .MuiPickersCalendarHeader-switchHeader":{"& p":{position:"none !important",backgroundColor:"#fff !important",color:"#000 !important"}},"& .MuiPickersCalendarHeader-daysHeader":{maxHeight:"none"},"& .MuiPickersCalendarHeader-transitionContainer":{display:"flex",alignItem:"center",justifyContent:"center",border:"1px solid #fff",color:"#fff",background:"#fff",height:"40px !important","& p":{display:"inline-block",width:"100%"},"& button":{disabled:!0}},"& .MuiTypography-caption":{padding:"5px 0"}},setStyleDayInCalendar:{"& p":{backgroundColor:"#fff !important",color:"#000 !important"},"& button:hover":{backgroundColor:"inherit",cursor:"default"},"& .MuiPickersDay-daySelected":{backgroundColor:"#fff !important"},"& .MuiGrid-root":{display:"flex",flexDirection:"column",alignItem:"center",justifyContent:"center"}},setStyleShiftStatusCircle:{display:"block !important",marginTop:"1px",margin:"auto",border:"2px solid #000",borderRadius:"100%",color:"#fff",width:"23px !important",height:"23px !important"},setStyleShiftStatusTriangle:{display:"block !important",margin:"auto"},setStyleShiftStatusClose:{display:"block !important",margin:"auto"},paddingTooltip:{color:"#fff",padding:"8px",fontSize:"0.7rem",maxWidth:"300px",wordWrap:"break-word",fontFamily:"Roboto,Helvetica,Arial,sans-serif",fontWeight:500,letterSpacing:"1px",lineHeight:"1.4em",borderTadius:"4px",backgroundColor:"rgba(96, 96, 96, 0.9)",display:"inline-block","& .makeStyles-setStyleCalendar-137 p":{fontSize:"5px",display:"inline-block"}},tableEllipsis:{display:"inline-block",textAlign:"center",width:"auto",whiteSpace:"nowrap",lineHeight:"16px",fontSize:"15px !important",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100px",maxHeight:"30px",tableLayout:"fixed"},setColorCalendarDay:{"& p":{color:"#b7bbbf !important"}}})})),$=(0,I.createContext)(),tt=e(184);var nt=function(t){var n,e,i,o,r,l,s=t.handleSaveFromChild,u=X(),c=(0,I.useContext)($),f=c.state,v=f.staffInfoOnCalendar,p=f.tableHeaderAssignedStaffname,_=(c.dispatch,function(t){(0,M.Z)(e,t);var n=(0,W.Z)(e);function e(){return(0,E.Z)(this,e),n.apply(this,arguments)}return(0,B.Z)(e,[{key:"getCalendarHeaderText",value:function(t){return"".concat(v.staffName,"\u5148\u751f \u5e0c\u671b\u8868")}}]),e}(Y.Z)),g=(0,I.useState)(T()(null===(n=p[0])||void 0===n||null===(e=n.date_info[0])||void 0===e?void 0:e.date)),h=(0,d.Z)(g,2),y=h[0],x=h[1],b=(0,I.useState)([]),Z=(0,d.Z)(b,2),S=Z[0],k=Z[1],w=(0,I.useState)(Array.from({length:T()(null===(i=p[0])||void 0===i||null===(o=i.date_info[0])||void 0===o?void 0:o.date).daysInMonth()},(function(t,n){var e,i,a,o;return{date:"".concat(T()(null===(e=p[0])||void 0===e||null===(i=e.date_info[0])||void 0===i?void 0:i.date).format("YYYY"),"-").concat(T()(null===(a=p[0])||void 0===a||null===(o=a.date_info[0])||void 0===o?void 0:o.date).format("MM"),"-").concat(n+1),status:"0"}}))),j=(0,d.Z)(w,2),C=j[0],A=j[1],N=function(t){var n="0";switch(C.forEach((function(e){T()(e.date).format("YYYY-MM-DD")===T()(t).format("YYYY-MM-DD")&&(n=e.status)})),n){case"0":return;case"1":return(0,tt.jsx)(Q.Z,{className:u.setStyleShiftStatusClose});case"2":return(0,tt.jsx)(V.Z,{className:u.setStyleShiftStatusCircle})}},R=(0,F.Z)({components:{MuiButtonBase:{styleOverrides:{root:{background:"#D8E3C0"}}}}});return T().locale("ja",{months:["\uff11\u6708","2\u6708","3\u6708","4\u6708","5\u6708","\uff16\u6708","\uff17\u6708","\uff18\u6708","\uff19\u6708","\uff11\uff10\u6708","\uff11\uff11\u6708","\uff11\uff12\u6708"],weekdays:0===(null===(r=p[0])||void 0===r?void 0:r.calendar_start_week_day)?["\u6708\u66dc\u65e5","\u706b\u66dc\u65e5","\u6c34\u66dc\u65e5","\u6728\u66dc\u65e5","\u91d1\u66dc\u65e5","\u571f\u66dc\u65e5","\u65e5\u66dc\u65e5"]:["\u65e5\u66dc\u65e5","\u6708\u66dc\u65e5","\u706b\u66dc\u65e5","\u6c34\u66dc\u65e5","\u6728\u66dc\u65e5","\u91d1\u66dc\u65e5","\u571f\u66dc\u65e5"],weekdaysShort:0===(null===(l=p[0])||void 0===l?void 0:l.calendar_start_week_day)?["\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f","\u65e5"]:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"]}),(0,I.useEffect)((function(){var t,n,e,i,a,o;if(0!==(null===v||void 0===v||null===(t=v.shift_detail)||void 0===t?void 0:t.length)){var r=null===v||void 0===v||null===(n=v.shift_detail)||void 0===n?void 0:n.map((function(t){return{date:null===t||void 0===t?void 0:t.date_register,status:2===(null===t||void 0===t?void 0:t.shift_detail_status)?"2":1===(null===t||void 0===t?void 0:t.shift_detail_status)?"1":""}}));A(r||[]),x(T()(null===(e=p[0])||void 0===e||null===(i=e.date_info[0])||void 0===i?void 0:i.date)),k(null===(a=p[0])||void 0===a||null===(o=a.date_info)||void 0===o?void 0:o.map((function(t){return null===t||void 0===t?void 0:t.date})).map((function(t){return Number(T()(t).format("DD"))})))}}),[v]),(0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("div",{style:{padding:"16px auto",border:"2px solid grey"},className:u.setStyleCalendar,children:(0,tt.jsx)(O.Z,{isLoading:!1,children:(0,tt.jsx)(q.Z,{theme:R,children:(0,tt.jsx)(G.M,{libInstance:T(),utils:_,locale:"ja",children:(0,tt.jsx)("div",{style:{maxWidth:"460px"},children:(0,tt.jsx)(J.a,{rightArrowButtonProps:{style:{opacity:0,pointerEvents:"none"}},leftArrowButtonProps:{style:{opacity:0,pointerEvents:"none"}},date:y,onChange:function(t){var n,e;x(T()(null!==t?t:null===(n=p[0])||void 0===n||null===(e=n.date_info[0])||void 0===e?void 0:e.date))},allowKeyboardControl:!0,renderDay:function(t,n,e,i){return(0,tt.jsx)(P.Z,{style:{opacity:i?1:0,width:"66px",height:"70px",display:"flex",textAlign:"center",justifyContent:"center",marginRight:"-1px",marginTop:"-1px",minWidth:"24px"},onClick:function(){!function(t){var n=(0,a.Z)(C);C.forEach((function(e,i){T()(e.date).format("YYYY-MM-DD")===t&&(n[i].status=String(Number(n[i].status)+1),Number(n[i].status)>2&&(n[i].status="0"))})),A(n)}(T()(t).format("YYYY-MM-DD"))},children:(0,tt.jsxs)(m.ZP,{item:!0,className:u.setStyleDayInCalendar,children:[(0,tt.jsx)("div",{className:"".concat(S.includes(Number(T()(t).format("DD")))?"":u.setColorCalendarDay),children:i}),!!e&&N(t)]})})}})})})})})}),(0,tt.jsx)(H.Z,{type:"button",className:u.cssSaveButton,style:{background:"#27a8e0",color:"#fff",fontSize:"20px",marginTop:"2rem"},onClick:function(){return s(C)},children:"\u4fdd\u5b58"})]})},et=e(1895),it=function(t){return 3===t?430:2===t?395:1===t?370:310},at=function(t){return 0===t?80:1===t?70:2===t?55:50},ot=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=(0,a.Z)(t).map((function(t,n){return(0,i.Z)((0,i.Z)({},t),{},{date_info:(0,a.Z)(t.date_info).map((function(t){return(0,i.Z)((0,i.Z)({},t),{},{assigned_staff_name:[],assigned_staffs:0})})),list_staff_detail:(0,a.Z)(t.list_staff_detail).map((function(t){return(0,i.Z)((0,i.Z)({},t),{},{shift_detail:(0,a.Z)(t.shift_detail).map((function(t){return(0,i.Z)((0,i.Z)({},t),{},{shift_detail_status:""===(null===t||void 0===t?void 0:t.shift_detail_status)?0:Number(null===t||void 0===t?void 0:t.shift_detail_status),admin_assign_status:""===(null===t||void 0===t?void 0:t.admin_assign_status)?0:Number(null===t||void 0===t?void 0:t.admin_assign_status),isSelectedOtherGrp:!1})}))})}))})}));return n},rt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=(0,a.Z)(t[0].date_info).map((function(t){return(0,i.Z)((0,i.Z)({},t),{},{assigned_staffs:0,number_staff:0})}));return(0,a.Z)(t).forEach((function(t){var e;null===t||void 0===t||null===(e=t.date_info)||void 0===e||e.forEach((function(t){n.forEach((function(e,i){t.date===e.date&&(n[i].number_staff+=t.number_staff)}))}))})),n},dt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=(0,a.Z)(t).map((function(t,n){return{align:"center",date:(null===t||void 0===t?void 0:t.date)||"",width:"120px",label:String(null===t||void 0===t?void 0:t.date_type)||""}}));return n},lt=function(t){return 3===t?4:2===t?3:1===t?2:1},st=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e="";return t.forEach((function(t){(null===t||void 0===t?void 0:t.date)===n&&(e=null===t||void 0===t?void 0:t.date_type)})),e},ut=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],e=n.map((function(n){return(0,i.Z)((0,i.Z)({},n),{},{list_staff_detail:null===n||void 0===n?void 0:n.list_staff_detail.map((function(n){var e,a=0,o=0,r=0,d=0;return null===n||void 0===n||null===(e=n.shift_detail)||void 0===e||e.forEach((function(n){if(1===(null===n||void 0===n?void 0:n.admin_assign_status))switch(st(t,null===n||void 0===n?void 0:n.date_register)){case"\u5e73":a+=1;break;case"\u571f":o+=1;break;case"\u65e5":r+=1;break;case"\u795d":d+=1}})),(0,i.Z)((0,i.Z)({},n),{},{admin_assigned_weekday:a,admin_assigned_saturday:o,admin_assigned_sunday:r,admin_assigned_holiday:d})}))})}));return e},ct=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0===(null===t||void 0===t?void 0:t.length))return[];var n=null===t||void 0===t?void 0:t.map((function(t){return(0,i.Z)((0,i.Z)({},t),{},{list_staff_detail:t.list_staff_detail.map((function(t){return(0,i.Z)((0,i.Z)({},t),{},{shift_detail:t.shift_detail.map((function(n,e){var a,o,r,d;return 1!==n.admin_assign_status||1!==(null===(a=t.shift_detail[e-1])||void 0===a?void 0:a.admin_assign_status)&&1!==(null===(o=t.shift_detail[e+1])||void 0===o?void 0:o.admin_assign_status)?1===(null===(r=t.shift_detail[e-1])||void 0===r?void 0:r.admin_assign_status)||1===(null===(d=t.shift_detail[e+1])||void 0===d?void 0:d.admin_assign_status)?(0,i.Z)((0,i.Z)({},n),{},{isAlert:!1,isGrey:!0}):(0,i.Z)((0,i.Z)({},n),{},{isAlert:!1,isGrey:!1}):(0,i.Z)((0,i.Z)({},n),{},{isAlert:!0})}))})}))})})),e=(0,a.Z)(n).map((function(t){return(0,i.Z)((0,i.Z)({},t),{},{list_staff_detail:t.list_staff_detail.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{shift_detail:e.shift_detail.map((function(o,r){var d=(0,i.Z)({},o);return 1===o.admin_assign_status?(0,a.Z)(n).forEach((function(n){n.group_id!==t.group_id&&n.list_staff_detail.forEach((function(t){t.staff_id===e.staff_id&&t.shift_detail.forEach((function(t){t.date_register===o.date_register&&1===t.admin_assign_status&&(d.isSelectedOtherGrp=!0)}))}))})):d.isSelectedOtherGrp=!1,d}))})}))})})),o=e.map((function(t){return(0,i.Z)((0,i.Z)({},t),{},{list_staff_detail:null===t||void 0===t?void 0:t.list_staff_detail.map((function(t){var n,a=0,o=0,r=0,d=0;return null===t||void 0===t||null===(n=t.shift_detail)||void 0===n||n.forEach((function(t){if(1===(null===t||void 0===t?void 0:t.admin_assign_status))switch(st(e[0].date_info,null===t||void 0===t?void 0:t.date_register)){case"\u5e73":a+=1;break;case"\u571f":o+=1;break;case"\u65e5":r+=1;break;case"\u795d":d+=1}})),(0,i.Z)((0,i.Z)({},t),{},{admin_assigned_weekday:a,admin_assigned_saturday:o,admin_assigned_sunday:r,admin_assigned_holiday:d})}))})})),r=o.map((function(t){return(0,i.Z)((0,i.Z)({},t),{},{date_info:t.date_info.map((function(n){var e=(0,i.Z)({},n);return null===t||void 0===t||t.list_staff_detail.forEach((function(t){var i;null===t||void 0===t||null===(i=t.shift_detail)||void 0===i||i.forEach((function(i){n.date===(null===i||void 0===i?void 0:i.date_register)&&1===(null===i||void 0===i?void 0:i.admin_assign_status)&&(e.assigned_staffs=Number(n.assigned_staffs+1),e.assigned_staff_name=[].concat((0,a.Z)(e.assigned_staff_name),[{staff_id:null===t||void 0===t?void 0:t.staff_id,staff_name:null===t||void 0===t?void 0:t.staff_name}]))}))})),e}))})}));return r},ft=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],e=(0,a.Z)(n).map((function(n,e){var o,r=(0,i.Z)({},n);return null===(o=(0,a.Z)(t))||void 0===o||o.forEach((function(t){var e;null===t||void 0===t||null===(e=t.list_staff_detail)||void 0===e||e.forEach((function(t){var e;null===t||void 0===t||null===(e=t.shift_detail)||void 0===e||e.forEach((function(t){n.date===(null===t||void 0===t?void 0:t.date_register)&&1===(null===t||void 0===t?void 0:t.admin_assign_status)&&(r.assigned_staffs=Number(n.assigned_staffs+=1))}))}))})),r}));return e},vt="SET_HOLIDAYLIST",pt="SET_HEADER_TOTAL_ASSIGNED_STAFF",_t="SET_HEADER_ASSIGNED_STAFFNAME",gt="SET_SHOW_CALENDAR",ht="SET_SHOW_TARGET_SETTING",yt="SET_HEADER_DATA_LIST",mt="SET_HEADER_STAFF_NAME_ARR",xt="SET_SHOW_COLUMN",bt=function(t){return{type:_t,payload:t}},Zt=function(t){return{type:gt,payload:t}},St=function(t){return{type:ht,payload:t}},kt=function(t){return{type:xt,payload:t}};function wt(t){var n,e=t.data,o=t.date,r=t.groupId,l=t.staffId,s=t.staffName,u=I.useState(!1),c=(0,d.Z)(u,2),f=c[0],v=c[1],p=(0,I.useContext)($),_=p.state,g=_.tableHeaderAssignedStaffname,h=_.tableHeaderTotalAssignedStaffs,y=p.dispatch,m=(0,I.useCallback)((function(t){var n;console.log(o,r,l,s);var e=function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(a){return a.group_id===t?(0,i.Z)((0,i.Z)({},a),{},{list_staff_detail:a.list_staff_detail.map((function(t){return t.staff_id===n?(0,i.Z)((0,i.Z)({},t),{},{shift_detail:t.shift_detail.map((function(t,n){return t.date_register===e?(0,i.Z)((0,i.Z)({},t),{},{admin_assign_status:1===t.admin_assign_status?0:1}):(0,i.Z)({},t)}))}):(0,i.Z)({},t)}))}):(0,i.Z)({},a)}))}(g,r,l,o),d=function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){return e.group_id===t?(0,i.Z)((0,i.Z)({},e),{},{list_staff_detail:e.list_staff_detail.map((function(t){return t.staff_id===n?(0,i.Z)((0,i.Z)({},t),{},{shift_detail:t.shift_detail.map((function(n,e){var a,o,r,d;return 1!==n.admin_assign_status||1!==(null===(a=t.shift_detail[e-1])||void 0===a?void 0:a.admin_assign_status)&&1!==(null===(o=t.shift_detail[e+1])||void 0===o?void 0:o.admin_assign_status)?1===(null===(r=t.shift_detail[e-1])||void 0===r?void 0:r.admin_assign_status)||1===(null===(d=t.shift_detail[e+1])||void 0===d?void 0:d.admin_assign_status)?(0,i.Z)((0,i.Z)({},n),{},{isAlert:!1,isGrey:!0}):(0,i.Z)((0,i.Z)({},n),{},{isAlert:!1,isGrey:!1}):(0,i.Z)((0,i.Z)({},n),{},{isAlert:!0})}))}):(0,i.Z)({},t)}))}):(0,i.Z)({},e)}))}(e,r,l),u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,a.Z)(t).map((function(n){return(0,i.Z)((0,i.Z)({},n),{},{list_staff_detail:n.list_staff_detail.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{shift_detail:e.shift_detail.map((function(o,r){var d=(0,i.Z)({},o);return 1===o.admin_assign_status?(0,a.Z)(t).forEach((function(t){t.group_id!==n.group_id&&t.list_staff_detail.forEach((function(t){t.staff_id===e.staff_id&&t.shift_detail.forEach((function(t){t.date_register===o.date_register&&1===t.admin_assign_status&&(d.isSelectedOtherGrp=!0)}))}))})):d.isSelectedOtherGrp=!1,d}))})}))})}))}(d),c=function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",r=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(d){return d.group_id===t?(0,i.Z)((0,i.Z)({},d),{},{date_info:d.date_info.map((function(t){if(t.date===o&&r){var d={staff_id:n,staff_name:e};return(0,i.Z)((0,i.Z)({},t),{},{assigned_staffs:Number(t.assigned_staffs+1),assigned_staff_name:[].concat((0,a.Z)(t.assigned_staff_name),[d])})}return t.date!==o||r?(0,i.Z)({},t):(0,i.Z)((0,i.Z)({},t),{},{assigned_staffs:Number(t.assigned_staffs-1),assigned_staff_name:t.assigned_staff_name.filter((function(t){return t.staff_id!==n}))})}))}):(0,i.Z)({},d)}))}(u,r,l,s,o,t),f=ut(null===(n=g[0])||void 0===n?void 0:n.date_info,c),v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,a.Z)(t).map((function(t,a){return t.date===n&&e?(0,i.Z)((0,i.Z)({},t),{},{assigned_staffs:Number(t.assigned_staffs+=1)}):t.date!==n||e?(0,i.Z)({},t):(0,i.Z)((0,i.Z)({},t),{},{assigned_staffs:Number(t.assigned_staffs-=1)})}))}(h,o,t);y(bt(f)),y({type:pt,payload:v})}),[g]);return(0,I.useEffect)((function(){v(1===(null===e||void 0===e?void 0:e.admin_assign_status))}),[e]),(0,tt.jsx)(tt.Fragment,{children:(0,tt.jsx)(S.Z,{checked:f,style:{color:"".concat((n=f,null!==e&&void 0!==e&&e.isAlert?"#ff6b6b":1===(null===e||void 0===e?void 0:e.shift_detail_status)&&n?"#ffbf19":n?"green":""))},onClick:function(){v(!f),m(!f)}})})}function jt(t){var n,e,i=t.classes,a=t.data,o=t.index,r=t.groupId,d=t.staffId,l=t.dateType,s=t.isShowColumn,u=(0,I.useContext)($).dispatch,c=function(t){return t.isAlert?"#fce4de":1===t.shift_detail_status&&1===t.admin_assign_status?"#fef6e2":1===t.admin_assign_status?"#deedd8":1===t.shift_detail_status||t.isGrey?"#efefef":""};return(0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsxs)(_.Z,{className:"".concat(i.setRowBodyStyle," ").concat(i.setBorderNone),children:[(0,tt.jsx)(g.Z,{align:"left",style:{cursor:"pointer",paddingLeft:"5px",background:"#fff",position:"sticky",left:0,zIndex:900},onClick:function(){var t,n;u(Zt({isShowCalendar:!0,staffInfoOnCalendar:{staffId:d,staffName:null!==(t=null===a||void 0===a?void 0:a.staff_name)&&void 0!==t?t:"",shift_detail:null!==(n=null===a||void 0===a?void 0:a.shift_detail)&&void 0!==n?n:[]}}))},children:(null===a||void 0===a?void 0:a.staff_name)||""},"staffAssignment1_".concat((null===a||void 0===a?void 0:a.staff_name)||"","_").concat(String(o))),s&&(0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)(g.Z,{align:"right",style:{minWidth:"115px",borderLeft:"none",background:"#fff",position:"sticky",zIndex:10,whiteSpace:"nowrap",left:"140px"},children:"\u5e74\u9593\u5b9f\u7e3e\u5f53\u76f4\u6570"},"staffAssignment2_".concat(null===a||void 0===a?void 0:a.group_name,"2_").concat(String(o))),(0,tt.jsx)(g.Z,{align:"center",style:{borderLeft:"none",background:"#fff",position:"sticky",zIndex:10,left:"255px"},children:0===l?(null===a||void 0===a?void 0:a.target_shift_number_weekday)+(null===a||void 0===a?void 0:a.target_shift_number_saturday)+(null===a||void 0===a?void 0:a.target_shift_number_sunday)+(null===a||void 0===a?void 0:a.target_shift_number_holiday):(null===a||void 0===a?void 0:a.target_shift_number_weekday)||0},"staffAssignment3_".concat(null===a||void 0===a?void 0:a.group_name,"2_").concat(String(o))),l>0&&(0,tt.jsx)(g.Z,{align:"center",style:{borderLeft:"none",background:"#fff",position:"sticky",zIndex:10,left:"".concat(255+at(null!==l&&void 0!==l?l:0),"px")},children:1===l?(null===a||void 0===a?void 0:a.target_shift_number_saturday)+(null===a||void 0===a?void 0:a.target_shift_number_sunday)+(null===a||void 0===a?void 0:a.target_shift_number_holiday):(null===a||void 0===a?void 0:a.target_shift_number_saturday)||0},"staffAssignment4_".concat(null===a||void 0===a?void 0:a.group_name,"2_").concat(String(o))),l>1&&(0,tt.jsx)(g.Z,{align:"center",style:{borderLeft:"none",background:"#fff",position:"sticky",zIndex:10,left:"".concat(255+2*at(null!==l&&void 0!==l?l:0),"px")},children:2===l?(null===a||void 0===a?void 0:a.target_shift_number_sunday)+(null===a||void 0===a?void 0:a.target_shift_number_holiday):(null===a||void 0===a?void 0:a.target_shift_number_sunday)||0},"staffAssignment5_".concat(null===a||void 0===a?void 0:a.group_name,"2_").concat(String(o))),l>2&&(0,tt.jsx)(g.Z,{align:"center",style:{borderLeft:"none",background:"#fff",position:"sticky",zIndex:10,left:"".concat(255+3*at(null!==l&&void 0!==l?l:0),"px")},children:(null===a||void 0===a?void 0:a.target_shift_number_holiday)||0},"staffAssignment6_".concat(null===a||void 0===a?void 0:a.group_name,"2_").concat(String(o)))]}),(0,tt.jsx)(g.Z,{align:"right",style:{minWidth:"90px",borderLeft:"none",cursor:"pointer",background:"#fff",position:"sticky",zIndex:10,whiteSpace:"nowrap",left:"".concat(s?255+at(l)*Number(l+1):"140","px")},onClick:function(){var t,n;u(St({isShowTargetSetting:!0,staffDetailTargetSetting:{staff_name:null!==(t=null===a||void 0===a?void 0:a.staff_name)&&void 0!==t?t:"",shift_assignment_id:null!==(n=null===a||void 0===a?void 0:a.shift_assignment_id)&&void 0!==n?n:"",target_shift_number_holiday:(null===a||void 0===a?void 0:a.target_shift_number_holiday)||0,target_shift_number_saturday:(null===a||void 0===a?void 0:a.target_shift_number_saturday)||0,target_shift_number_sunday:(null===a||void 0===a?void 0:a.target_shift_number_sunday)||0,target_shift_number_weekday:(null===a||void 0===a?void 0:a.target_shift_number_weekday)||0}}))},children:"\u76ee\u6a19\u5f53\u76f4\u6570"},"staffAssignment2_".concat(null===a||void 0===a?void 0:a.group_name,"2_").concat(String(o))),(0,tt.jsx)(g.Z,{align:"center",style:{borderLeft:"none",background:"#fff",position:"sticky",zIndex:10,left:"".concat(s?345+at(l)*Number(l+1):"230","px")},children:0===l?(null===a||void 0===a?void 0:a.target_shift_number_weekday)+(null===a||void 0===a?void 0:a.target_shift_number_saturday)+(null===a||void 0===a?void 0:a.target_shift_number_sunday)+(null===a||void 0===a?void 0:a.target_shift_number_holiday):(null===a||void 0===a?void 0:a.target_shift_number_weekday)||0},"staffAssignment3_".concat(null===a||void 0===a?void 0:a.group_name,"2_").concat(String(o))),l>0&&(0,tt.jsx)(g.Z,{align:"center",style:{borderLeft:"none",background:"#fff",position:"sticky",zIndex:10,left:"".concat(s?230+at(null!==l&&void 0!==l?l:0)+115+at(l)*Number(l+1):230+at(null!==l&&void 0!==l?l:0),"px")},children:1===l?(null===a||void 0===a?void 0:a.target_shift_number_saturday)+(null===a||void 0===a?void 0:a.target_shift_number_sunday)+(null===a||void 0===a?void 0:a.target_shift_number_holiday):(null===a||void 0===a?void 0:a.target_shift_number_saturday)||0},"staffAssignment4_".concat(null===a||void 0===a?void 0:a.group_name,"2_").concat(String(o))),l>1&&(0,tt.jsx)(g.Z,{align:"center",style:{borderLeft:"none",background:"#fff",position:"sticky",zIndex:10,left:"".concat(s?230+2*at(null!==l&&void 0!==l?l:0)+115+at(l)*Number(l+1):230+2*at(null!==l&&void 0!==l?l:0),"px")},children:2===l?(null===a||void 0===a?void 0:a.target_shift_number_sunday)+(null===a||void 0===a?void 0:a.target_shift_number_holiday):(null===a||void 0===a?void 0:a.target_shift_number_sunday)||0},"staffAssignment5_".concat(null===a||void 0===a?void 0:a.group_name,"2_").concat(String(o))),l>2&&(0,tt.jsx)(g.Z,{align:"center",style:{borderLeft:"none",background:"#fff",position:"sticky",zIndex:10,left:"".concat(s?230+3*at(null!==l&&void 0!==l?l:0)+115+at(l)*Number(l+1):230+3*at(null!==l&&void 0!==l?l:0),"px")},children:(null===a||void 0===a?void 0:a.target_shift_number_holiday)||0},"staffAssignment6_".concat(null===a||void 0===a?void 0:a.group_name,"2_").concat(String(o))),(0,tt.jsx)(g.Z,{align:"right",style:{paddingRight:"5px",borderLeft:"none",borderRight:"1px solid rgba(196, 196, 196, 0.4)",background:"#fff",position:"sticky",zIndex:10,left:"".concat(s?it(null!==l&&void 0!==l?l:0)+115+at(l)*Number(l+1):it(null!==l&&void 0!==l?l:0),"px")},children:"\u5e0c\u671b"},"staffAssignment2_".concat((null===a||void 0===a?void 0:a.staff_name)||"","_").concat(String(o))),(null===a||void 0===a||null===(n=a.shift_detail)||void 0===n?void 0:n.length)>0&&(null===a||void 0===a?void 0:a.shift_detail.map((function(t,n){var e;return(0,tt.jsx)(g.Z,{align:"center",children:null!==t&&void 0!==t&&t.isSelectedOtherGrp?"\u9078\u629e\u4e2d":2===(null===t||void 0===t?void 0:t.shift_detail_status)?(0,tt.jsx)(V.Z,{className:i.setStyleShiftStatusCircle}):1===(null===t||void 0===t?void 0:t.shift_detail_status)?(0,tt.jsx)(Q.Z,{className:i.setStyleShiftStatusClose}):""},"staffAssignment_".concat(null!==(e=null===t||void 0===t?void 0:t.number_staff)&&void 0!==e?e:"0","_").concat(String(o),"_").concat(String(n)))})))]}),(0,tt.jsxs)(_.Z,{className:i.setRowBodyStyle,children:[(0,tt.jsx)(g.Z,{align:"left",style:{background:"#fff",position:"sticky",left:0,zIndex:900,paddingLeft:"5px",color:"#b7bbbf"},children:"\u63d0\u51fa\u6e08"},"staffAssignment3_".concat((null===a||void 0===a?void 0:a.staff_name)||"","_").concat(String(o))),s&&(0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)(g.Z,{align:"right",style:{borderLeft:"none",background:"#fff",position:"sticky",zIndex:10,whiteSpace:"nowrap",left:"140px"},children:"\u524d\u56de\u5b9f\u7e3e\u5f53\u76f4\u6570"},"staffAssignment2_".concat(null===a||void 0===a?void 0:a.group_name,"2_").concat(String(o))),(0,tt.jsx)(g.Z,{align:"center",style:{borderLeft:"none",background:"#fff",position:"sticky",zIndex:10,left:"255px"},children:0===l?(null===a||void 0===a?void 0:a.admin_assigned_weekday)+(null===a||void 0===a?void 0:a.admin_assigned_saturday)+(null===a||void 0===a?void 0:a.admin_assigned_sunday)+(null===a||void 0===a?void 0:a.admin_assigned_holiday):(null===a||void 0===a?void 0:a.admin_assigned_weekday)||0},"staffAssignment3_".concat(null===a||void 0===a?void 0:a.group_name,"2_").concat(String(o))),l>0&&(0,tt.jsx)(g.Z,{align:"center",style:{borderLeft:"none",background:"#fff",position:"sticky",zIndex:10,left:"".concat(255+at(null!==l&&void 0!==l?l:0),"px")},children:1===l?(null===a||void 0===a?void 0:a.admin_assigned_saturday)+(null===a||void 0===a?void 0:a.admin_assigned_sunday)+(null===a||void 0===a?void 0:a.admin_assigned_holiday):(null===a||void 0===a?void 0:a.admin_assigned_saturday)||0},"staffAssignment4_".concat(null===a||void 0===a?void 0:a.group_name,"2_").concat(String(o))),l>1&&(0,tt.jsx)(g.Z,{align:"center",style:{borderLeft:"none",background:"#fff",position:"sticky",zIndex:10,left:"".concat(255+2*at(null!==l&&void 0!==l?l:0),"px")},children:2===l?(null===a||void 0===a?void 0:a.admin_assigned_sunday)+(null===a||void 0===a?void 0:a.admin_assigned_holiday):(null===a||void 0===a?void 0:a.admin_assigned_sunday)||0},"staffAssignment5_".concat(null===a||void 0===a?void 0:a.group_name,"2_").concat(String(o))),l>2&&(0,tt.jsx)(g.Z,{align:"center",style:{borderLeft:"none",background:"#fff",position:"sticky",zIndex:10,left:"".concat(255+3*at(null!==l&&void 0!==l?l:0),"px")},children:(null===a||void 0===a?void 0:a.admin_assigned_holiday)||0},"staffAssignment6_".concat(null===a||void 0===a?void 0:a.group_name,"2_").concat(String(o)))]}),(0,tt.jsx)(g.Z,{align:"right",style:{borderLeft:"none",background:"#fff",position:"sticky",zIndex:10,whiteSpace:"nowrap",left:"".concat(s?255+at(l)*Number(l+1):"140","px")},children:"\u4eca\u56de\u5f53\u76f4\u6570"},"staffAssignment2_".concat(null===a||void 0===a?void 0:a.group_name,"2_").concat(String(o))),(0,tt.jsx)(g.Z,{align:"center",style:{borderLeft:"none",background:"#fff",position:"sticky",zIndex:10,left:"".concat(s?345+at(l)*Number(l+1):"230","px")},children:0===l?(null===a||void 0===a?void 0:a.admin_assigned_weekday)+(null===a||void 0===a?void 0:a.admin_assigned_saturday)+(null===a||void 0===a?void 0:a.admin_assigned_sunday)+(null===a||void 0===a?void 0:a.admin_assigned_holiday):(null===a||void 0===a?void 0:a.admin_assigned_weekday)||0},"staffAssignment3_".concat(null===a||void 0===a?void 0:a.group_name,"2_").concat(String(o))),l>0&&(0,tt.jsx)(g.Z,{align:"center",style:{borderLeft:"none",background:"#fff",position:"sticky",zIndex:10,left:"".concat(s?230+at(null!==l&&void 0!==l?l:0)+115+at(l)*Number(l+1):230+at(null!==l&&void 0!==l?l:0),"px")},children:1===l?(null===a||void 0===a?void 0:a.admin_assigned_saturday)+(null===a||void 0===a?void 0:a.admin_assigned_sunday)+(null===a||void 0===a?void 0:a.admin_assigned_holiday):(null===a||void 0===a?void 0:a.admin_assigned_saturday)||0},"staffAssignment4_".concat(null===a||void 0===a?void 0:a.group_name,"2_").concat(String(o))),l>1&&(0,tt.jsx)(g.Z,{align:"center",style:{borderLeft:"none",background:"#fff",position:"sticky",zIndex:10,left:"".concat(s?230+2*at(null!==l&&void 0!==l?l:0)+115+at(l)*Number(l+1):230+2*at(null!==l&&void 0!==l?l:0),"px")},children:2===l?(null===a||void 0===a?void 0:a.admin_assigned_sunday)+(null===a||void 0===a?void 0:a.admin_assigned_holiday):(null===a||void 0===a?void 0:a.admin_assigned_sunday)||0},"staffAssignment5_".concat(null===a||void 0===a?void 0:a.group_name,"2_").concat(String(o))),l>2&&(0,tt.jsx)(g.Z,{align:"center",style:{borderLeft:"none",background:"#fff",position:"sticky",zIndex:10,left:"".concat(s?230+3*at(null!==l&&void 0!==l?l:0)+115+at(l)*Number(l+1):230+3*at(null!==l&&void 0!==l?l:0),"px")},children:(null===a||void 0===a?void 0:a.admin_assigned_holiday)||0},"staffAssignment6_".concat(null===a||void 0===a?void 0:a.group_name,"2_").concat(String(o))),(0,tt.jsx)(g.Z,{align:"right",style:{paddingRight:"5px",borderLeft:"none",borderRight:"1px solid rgba(196, 196, 196, 0.4)",background:"#fff",position:"sticky",zIndex:10,left:"".concat(s?it(null!==l&&void 0!==l?l:0)+115+at(l)*Number(l+1):it(null!==l&&void 0!==l?l:0),"px")},children:"\u52e4\u52d9"},"staffAssignment4_".concat((null===a||void 0===a?void 0:a.staff_name)||"","_").concat(String(o))),(null===a||void 0===a||null===(e=a.shift_detail)||void 0===e?void 0:e.length)>0&&(null===a||void 0===a?void 0:a.shift_detail.map((function(t,n){var e,i;return(0,tt.jsx)(g.Z,{align:"center",style:{background:"".concat(c(t))},children:(0,tt.jsx)(wt,{data:t,groupId:r,staffId:d,staffName:null!==(i=null===a||void 0===a?void 0:a.staff_name)&&void 0!==i?i:"",date:t.date_register})},"staffAssignmentCheckbox_".concat(null!==(e=null===t||void 0===t?void 0:t.number_staff)&&void 0!==e?e:"0","_").concat(String(o),"_").concat(String(n)))})))]})]})}function Ct(t){var n,e,i,a,o,r,d,l,s,u,c,f,v,p,h,y,m,x=t.classes,b=t.data,Z=t.index,S=t.isShowColumn;return(0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsxs)(_.Z,{className:"".concat(x.setRowBodyStyle," ").concat(x.setBorderNone),style:{height:"20px"},children:[(0,tt.jsx)(g.Z,{colSpan:Number(S?2*lt(null!==(n=null===b||void 0===b?void 0:b.display_type)&&void 0!==n?n:0)+3:lt(null!==(e=null===b||void 0===b?void 0:b.display_type)&&void 0!==e?e:0)+2),style:{background:"#fff",position:"sticky",left:0},children:" "},"bodyCell_BlankRowHeader1_".concat(String(Z))),(0,tt.jsx)(g.Z,{style:{background:"#fff",position:"sticky",left:"".concat(S?it(null!==(i=null===b||void 0===b?void 0:b.display_type)&&void 0!==i?i:0)+115+at(null===b||void 0===b?void 0:b.display_type)*Number((null===b||void 0===b?void 0:b.display_type)+1):it(null!==(a=null===b||void 0===b?void 0:b.display_type)&&void 0!==a?a:0),"px"),borderLeft:"none",borderRight:"1px solid rgba(196, 196, 196, 0.4)"},children:" "},"bodyCell_BlankRowHeader4_".concat(String(Z))),(null===b||void 0===b||null===(o=b.date_info)||void 0===o?void 0:o.length)>0&&(null===b||void 0===b?void 0:b.date_info.map((function(t,n){return(0,tt.jsx)(g.Z,{align:"center",style:{background:"inherit"},children:" "},"bodyCell_BlankRow_".concat(String(Z),"_").concat(String(n)))})))]}),(0,tt.jsxs)(_.Z,{className:"".concat(x.setRowBodyStyle," ").concat(x.setBorderNone),children:[(0,tt.jsx)(g.Z,{align:"left",style:{paddingLeft:"5px",color:"#27a8e0",position:"sticky",left:0,background:"#fff",zIndex:100,minWidth:"140px"},children:(null===b||void 0===b?void 0:b.group_name)||""},"bodyCellRequiredStaffs_".concat(null===b||void 0===b?void 0:b.group_name,"1_").concat(String(Z))),S&&(0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)(g.Z,{align:"right",style:{paddingRight:"5px",borderLeft:"none",background:"#fff",position:"sticky",zIndex:900,left:"140px"},children:" "},"bodyCellRequiredStaffs_".concat(null===b||void 0===b?void 0:b.group_name,"2_").concat(String(Z))),(0,tt.jsx)(g.Z,{align:"right",colSpan:lt(null!==(r=null===b||void 0===b?void 0:b.display_type)&&void 0!==r?r:0),style:{paddingRight:"5px",borderLeft:"none",background:"#fff",position:"sticky",zIndex:900,left:"255px"},children:" "},"bodyCellRequiredStaffs_".concat(null===b||void 0===b?void 0:b.group_name,"3_").concat(String(Z)))]}),(0,tt.jsx)(g.Z,{align:"right",style:{paddingRight:"5px",borderLeft:"none",background:"#fff",position:"sticky",zIndex:900,left:"".concat(S?255+at(null===b||void 0===b?void 0:b.display_type)*Number((null===b||void 0===b?void 0:b.display_type)+1):"140","px")},children:" "},"bodyCellRequiredStaffs_".concat(null===b||void 0===b?void 0:b.group_name,"2_").concat(String(Z))),(0,tt.jsx)(g.Z,{align:"right",colSpan:lt(null!==(d=null===b||void 0===b?void 0:b.display_type)&&void 0!==d?d:0),style:{paddingRight:"5px",borderLeft:"none",background:"#fff",position:"sticky",zIndex:900,left:"".concat(S?345+at(null===b||void 0===b?void 0:b.display_type)*Number((null===b||void 0===b?void 0:b.display_type)+1):"230","px")},children:" "},"bodyCellRequiredStaffs_".concat(null===b||void 0===b?void 0:b.group_name,"3_").concat(String(Z))),(0,tt.jsx)(g.Z,{align:"right",style:{paddingRight:"5px",borderLeft:"none",borderRight:"1px solid rgba(196, 196, 196, 0.4)",background:"#fff",position:"sticky",zIndex:10,left:"".concat(S?it(null!==(l=null===b||void 0===b?void 0:b.display_type)&&void 0!==l?l:0)+115+at(null===b||void 0===b?void 0:b.display_type)*Number((null===b||void 0===b?void 0:b.display_type)+1):it(null!==(s=null===b||void 0===b?void 0:b.display_type)&&void 0!==s?s:0),"px")},children:"\u5fc5\u8981\u4eba\u6570"},"bodyCellRequiredStaffs_".concat(null===b||void 0===b?void 0:b.group_name,"4_").concat(String(Z))),(null===b||void 0===b||null===(u=b.date_info)||void 0===u?void 0:u.length)>0&&(null===b||void 0===b?void 0:b.date_info.map((function(t,n){var e;return(0,tt.jsx)(g.Z,{align:"center",style:{background:"inherit"},children:null!==(e=null===t||void 0===t?void 0:t.number_staff)&&void 0!==e?e:"0"},"bodyCellRequiredStaffs_".concat(null===t||void 0===t?void 0:t.number_staff,"_").concat(String(Z),"_").concat(String(n)))})))]}),(0,tt.jsxs)(_.Z,{className:"".concat(x.setRowBodyStyle),children:[(0,tt.jsx)(g.Z,{align:"right",style:{background:"#fff",position:"sticky",left:0,zIndex:10},children:" "},"bodyCellAssignedStaff_".concat(null===b||void 0===b?void 0:b.group_name,"1_").concat(String(Z))),S&&(0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)(g.Z,{align:"right",style:{paddingRight:"5px",borderLeft:"none",background:"#fff",position:"sticky",zIndex:10,left:"140px"},children:" "},"bodyCellAssignedStaff_".concat(null===b||void 0===b?void 0:b.group_name,"2_").concat(String(Z))),(0,tt.jsx)(g.Z,{align:"right",colSpan:lt(null!==(c=null===b||void 0===b?void 0:b.display_type)&&void 0!==c?c:0),style:{paddingRight:"5px",borderLeft:"none",background:"#fff",position:"sticky",zIndex:10,left:"255px"},children:" "},"bodyCellAssignedStaff_".concat(null===b||void 0===b?void 0:b.group_name,"3_").concat(String(Z)))]}),(0,tt.jsx)(g.Z,{align:"right",style:{paddingRight:"5px",borderLeft:"none",background:"#fff",position:"sticky",zIndex:10,left:"".concat(S?255+at(null===b||void 0===b?void 0:b.display_type)*Number((null===b||void 0===b?void 0:b.display_type)+1):"140","px")},children:" "},"bodyCellAssignedStaff_".concat(null===b||void 0===b?void 0:b.group_name,"2_").concat(String(Z))),(0,tt.jsx)(g.Z,{align:"right",colSpan:lt(null!==(f=null===b||void 0===b?void 0:b.display_type)&&void 0!==f?f:0),style:{paddingRight:"5px",borderLeft:"none",background:"#fff",position:"sticky",zIndex:10,left:"".concat(S?345+at(null===b||void 0===b?void 0:b.display_type)*Number((null===b||void 0===b?void 0:b.display_type)+1):"230","px")},children:" "},"bodyCellAssignedStaff_".concat(null===b||void 0===b?void 0:b.group_name,"3_").concat(String(Z))),(0,tt.jsx)(g.Z,{align:"right",style:{paddingRight:"5px",borderLeft:"none",borderRight:"1px solid rgba(196, 196, 196, 0.4)",background:"#fff",position:"sticky",zIndex:10,left:"".concat(S?it(null!==(v=null===b||void 0===b?void 0:b.display_type)&&void 0!==v?v:0)+115+at(null===b||void 0===b?void 0:b.display_type)*Number((null===b||void 0===b?void 0:b.display_type)+1):it(null!==(p=null===b||void 0===b?void 0:b.display_type)&&void 0!==p?p:0),"px")},children:"\u914d\u7f6e\u4eba\u6570"},"bodyCellAssignedStaff_".concat(null===b||void 0===b?void 0:b.group_name,"4_").concat(String(Z))),(null===b||void 0===b||null===(h=b.date_info)||void 0===h?void 0:h.length)>0&&(null===b||void 0===b?void 0:b.date_info.map((function(t,n){var e;return(0,tt.jsx)(g.Z,{align:"center",style:{width:"100px"},children:null!==(e=null===t||void 0===t?void 0:t.assigned_staffs)&&void 0!==e?e:"0"},"bodyCellAssignedStaff_".concat(null===t||void 0===t?void 0:t.assigned_staffs,"_").concat(String(Z),"_").concat(String(n)))})))]}),(null===b||void 0===b||null===(y=b.list_staff_detail)||void 0===y?void 0:y.length)>0&&(null===b||void 0===b||null===(m=b.list_staff_detail)||void 0===m?void 0:m.map((function(t,n){return(0,tt.jsx)(jt,{data:t,groupId:b.group_id,staffId:t.staff_id,classes:x,index:n,dateType:null===b||void 0===b?void 0:b.display_type,isShowColumn:S},"table_body_staff_detail_".concat(String(n)))})))]})}var At=e(6890);function Tt(t){var n,e,i,a,o,r,d,l,c,f,v,p,h,y,m,x,b,S,k,w,j,C,A,N,I,R,L,z,D,H,E,B,M,W,Y,F,P,O,G,J,q,V,Q,K,U,X,$,nt,et,ot,rt,dt,st,ut,ct,ft,vt,pt,_t,gt,ht,yt,mt,xt,bt,Zt,St,kt,wt,jt,Ct,Tt,Nt,It,Rt,Lt,zt,Dt=t.classes,Ht=t.tableHeaderListDate,Et=void 0===Ht?[]:Ht,Bt=t.data,Mt=void 0===Bt?[]:Bt,Wt=t.tableHeaderTotalAssignedStaffs,Yt=void 0===Wt?[]:Wt,Ft=t.isShowColumn;return(0,tt.jsxs)(At.Z,{className:Dt.cssHeaderBorder,children:[(null===Mt||void 0===Mt?void 0:Mt.length)>0&&(null===Mt||void 0===Mt?void 0:Mt.map((function(t,n){var e,i,a,o,r;return(0,tt.jsxs)(_.Z,{className:"".concat(Dt.setHeaderPosition," ").concat(0===n&&Dt.setBorderTopColor," ").concat(Dt.setBorderLeftAndRightColor," ").concat(0===n&&Dt.setBorderTopRight),children:[(0,tt.jsx)(g.Z,{align:"left",colSpan:Number(Ft?2*lt(null!==(e=null===t||void 0===t?void 0:t.display_type)&&void 0!==e?e:0)+3:lt(null!==(i=null===t||void 0===t?void 0:t.display_type)&&void 0!==i?i:0)+2),style:{color:"#27a8e0",fontSize:"16px",background:"#fff",zIndex:999,borderTopLeftRadius:"".concat(0===n&&"5px"),borderBottom:"".concat(n!==Mt.length-1&&"none")},children:0===n?"\u5f53\u76f4\u8005":" "},"assignedStaffName_title_".concat(String(n))),(0,tt.jsx)(g.Z,{align:"right",style:{borderLeft:"none",whiteSpace:"nowrap",borderRight:"1px solid rgba(196, 196, 196, 0.4)",background:"#fff",zIndex:999,position:"sticky",left:"".concat(Ft?it(null!==(a=null===t||void 0===t?void 0:t.display_type)&&void 0!==a?a:0)+115+at(null===t||void 0===t?void 0:t.display_type)*Number((null===t||void 0===t?void 0:t.display_type)+1):it(null!==(o=null===t||void 0===t?void 0:t.display_type)&&void 0!==o?o:0),"px"),borderBottom:"".concat(n!==Mt.length-1&&"none")},children:null!==(r=null===t||void 0===t?void 0:t.group_name)&&void 0!==r?r:""},"assignedStaffName_group_name_".concat(String(n))),null===t||void 0===t?void 0:t.date_info.map((function(t,e){var i,a,o,r,d,l;return(0,tt.jsx)(g.Z,{style:{minWidth:"100px",borderTop:"".concat(0===n&&"1px solid #27a8e0"),borderBottom:"".concat(n!==Mt.length-1&&"none")},children:(null===t||void 0===t?void 0:t.assigned_staffs)>(null===t||void 0===t?void 0:t.number_staff)?(0,tt.jsx)(Z.Z,{style:{textAlign:"left",fontSize:"14px"},children:"\u4eba\u6570\u30aa\u30fc\u30d0\u30fc"}):(0,tt.jsx)(s.Z,{title:(null===t||void 0===t||null===(i=t.assigned_staff_name)||void 0===i?void 0:i.length)>0&&(null===t||void 0===t||null===(a=t.assigned_staff_name)||void 0===a||null===(o=a.map((function(t){var n;return null!==(n=null===t||void 0===t?void 0:t.staff_name)&&void 0!==n?n:""})))||void 0===o?void 0:o.join(", ")),arrow:!0,TransitionComponent:u.Z,placement:"top",classes:{tooltip:Dt.paddingTooltip},children:(0,tt.jsx)(Z.Z,{className:Dt.tableEllipsis,style:{textAlign:"left",fontSize:"14px"},children:(null===t||void 0===t||null===(r=t.assigned_staff_name)||void 0===r?void 0:r.length)>0&&(null===t||void 0===t||null===(d=t.assigned_staff_name)||void 0===d||null===(l=d.map((function(t){var n;return null!==(n=null===t||void 0===t?void 0:t.staff_name)&&void 0!==n?n:""})))||void 0===l?void 0:l.join(", "))})})},"assignedStaffName_".concat(String(e)))}))]},"assignedStaffName_tableRow_".concat(String(n)))}))),(null===Yt||void 0===Yt?void 0:Yt.length)>0&&(0,tt.jsxs)(_.Z,{className:"".concat(Dt.setHeaderPosition," ").concat(Dt.setBorderLeftAndRightColor),children:[(0,tt.jsx)(g.Z,{align:"left",colSpan:Number(Ft?2*lt(null!==(n=null===(e=Mt[0])||void 0===e?void 0:e.display_type)&&void 0!==n?n:0)+3:lt(null!==(i=null===(a=Mt[0])||void 0===a?void 0:a.display_type)&&void 0!==i?i:0)+2),style:{color:"#27a8e0",fontSize:"16px",borderBottom:"none"},children:"\u5408\u8a08"},"totalAssignedStaff_title1_1"),(0,tt.jsx)(g.Z,{align:"right",style:{borderLeft:"none",borderRight:"1px solid rgba(196, 196, 196, 0.4)",background:"#fff",zIndex:999,position:"sticky",left:"".concat(Ft?it(null!==(o=null===(r=Mt[0])||void 0===r?void 0:r.display_type)&&void 0!==o?o:0)+115+at(null===(d=Mt[0])||void 0===d?void 0:d.display_type)*Number((null===(l=Mt[0])||void 0===l?void 0:l.display_type)+1):it(null!==(c=null===(f=Mt[0])||void 0===f?void 0:f.display_type)&&void 0!==c?c:0),"px"),borderBottom:"none",whiteSpace:"nowrap"},children:"\u5fc5\u8981\u4eba\u6570"},"totalAssignedStaff_title2_1"),Yt.map((function(t,n){return(0,tt.jsx)(g.Z,{align:"center",style:{borderBottom:"none"},children:null===t||void 0===t?void 0:t.number_staff},"totalAssignedStaff_number_staff_".concat(String(n)))}))]},"totalAssignedStaff_requiredStaff_1"),(null===Yt||void 0===Yt?void 0:Yt.length)>0&&(0,tt.jsxs)(_.Z,{className:"".concat(Dt.setHeaderPosition," ").concat(Dt.setBorderLeftAndRightColor),children:[(0,tt.jsx)(g.Z,{align:"left",colSpan:Number(Ft?2*lt(null!==(v=null===(p=Mt[0])||void 0===p?void 0:p.display_type)&&void 0!==v?v:0)+3:lt(null!==(h=null===(y=Mt[0])||void 0===y?void 0:y.display_type)&&void 0!==h?h:0)+2),children:" "},"totalAssignedStaff_title1_1"),(0,tt.jsx)(g.Z,{align:"right",style:{borderLeft:"none",borderRight:"1px solid rgba(196, 196, 196, 0.4)",background:"#fff",zIndex:999,position:"sticky",left:"".concat(Ft?it(null!==(m=null===(x=Mt[0])||void 0===x?void 0:x.display_type)&&void 0!==m?m:0)+115+at(null===(b=Mt[0])||void 0===b?void 0:b.display_type)*Number((null===(S=Mt[0])||void 0===S?void 0:S.display_type)+1):it(null!==(k=null===(w=Mt[0])||void 0===w?void 0:w.display_type)&&void 0!==k?k:0),"px")},children:"\u914d\u7f6e\u4eba\u6570"},"totalAssignedStaff_title2_1"),Yt.map((function(t,n){return(0,tt.jsx)(g.Z,{align:"center",style:{borderBottom:"none"},children:null===t||void 0===t?void 0:t.assigned_staffs},"totalAssignedStaff_number_staff_".concat(String(n)))}))]},"totalAssignedStaff_tableRow_2"),(0,tt.jsxs)(_.Z,{className:"".concat(Dt.rowOnHead," ").concat(Dt.setHeaderPosition," ").concat(Dt.setBorderLeftAndRightColor),children:[(null===Et||void 0===Et?void 0:Et.length)>0&&(0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)(g.Z,{align:"center",style:{color:"#000",borderBottom:"none",background:"#fff",borderLeft:"1px solid #27a8e0",zIndex:999,position:"sticky",left:0},colSpan:Number(Ft?2*lt(null!==(j=null===(C=Mt[0])||void 0===C?void 0:C.display_type)&&void 0!==j?j:0)+3:lt(null!==(A=null===(N=Mt[0])||void 0===N?void 0:N.display_type)&&void 0!==A?A:0)+2),width:"100px",children:" "},"header_date_type_title"),(0,tt.jsx)(g.Z,{align:"left",colSpan:lt(null!==(I=null===(R=Mt[0])||void 0===R?void 0:R.date_type)&&void 0!==I?I:0),style:{background:"#fff",borderLeft:"none",borderBottom:"none",borderRight:"1px solid rgba(196, 196, 196, 0.4)",position:"sticky",zIndex:999,left:"".concat(Ft?it(null!==(L=null===(z=Mt[0])||void 0===z?void 0:z.display_type)&&void 0!==L?L:0)+115+at(null===(D=Mt[0])||void 0===D?void 0:D.display_type)*Number((null===(H=Mt[0])||void 0===H?void 0:H.display_type)+1):it(null!==(E=null===(B=Mt[0])||void 0===B?void 0:B.display_type)&&void 0!==E?E:0),"px")},children:" "},"totalAssignedStaff_blankRow_3")]}),(null===Et||void 0===Et?void 0:Et.length)>0&&(null===Et||void 0===Et?void 0:Et.map((function(t,n){var e,i;return(0,tt.jsx)(g.Z,{align:t.alignCenterTitle?"center":t.align,className:Dt.tableTh,width:null!==(e=t.width)&&void 0!==e?e:"auto",children:T()(null!==(i=null===t||void 0===t?void 0:t.date)&&void 0!==i?i:"").format("MM/DD")},"header_date_type_title_".concat(String(n)))})))]},"header_date_type_title_tableRow1"),(0,tt.jsxs)(_.Z,{className:"".concat(Dt.rowOnHead," ").concat(Dt.setHeaderPosition," ").concat(Dt.setBorderBottomColor," ").concat(Dt.setBorderLeftAndRightColor),children:[(null===Et||void 0===Et?void 0:Et.length)>0&&(0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)(g.Z,{align:"center",colSpan:2,style:{backgroundColor:"#fff",color:"#000",position:"sticky",left:0},children:" "},"header_date_type_title"),Ft&&(0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)(g.Z,{align:"center",style:{background:"#fff",zIndex:999,borderLeft:"none",color:"#000",whiteSpace:"nowrap",position:"sticky",minWidth:"".concat(at(null===(M=Mt[0])||void 0===M?void 0:M.display_type),"px"),left:"255px"},children:0===(null===(W=Mt[0])||void 0===W?void 0:W.display_type)?"\u5e73\u571f\u65e5\u795d":"\u5e73"},"header_date_type_title_dateType2"),(null===(Y=Mt[0])||void 0===Y?void 0:Y.display_type)>0&&(0,tt.jsx)(g.Z,{align:"center",style:{background:"#fff",zIndex:999,borderLeft:"none",color:"#000",whiteSpace:"nowrap",minWidth:"".concat(at(null===(F=Mt[0])||void 0===F?void 0:F.display_type),"px"),left:"".concat(255+at(null===(P=Mt[0])||void 0===P?void 0:P.display_type),"px")},children:1===(null===(O=Mt[0])||void 0===O?void 0:O.display_type)?"\u571f\u65e5\u795d":"\u571f"},"header_date_type_title_dateType3"),(null===(G=Mt[0])||void 0===G?void 0:G.display_type)>1&&(0,tt.jsx)(g.Z,{align:"center",style:{background:"#fff",zIndex:999,borderLeft:"none",color:"#000",whiteSpace:"nowrap",minWidth:"".concat(at(null===(J=Mt[0])||void 0===J?void 0:J.display_type),"px"),left:"".concat(255+2*at(null===(q=Mt[0])||void 0===q?void 0:q.display_type),"px")},children:2===(null===(V=Mt[0])||void 0===V?void 0:V.display_type)?"\u65e5\u795d":"\u65e5"},"header_date_type_title_dateType4"),(null===(Q=Mt[0])||void 0===Q?void 0:Q.display_type)>2&&(0,tt.jsx)(g.Z,{align:"center",style:{background:"#fff",zIndex:999,borderLeft:"none",color:"#000",minWidth:"".concat(at(null===(K=Mt[0])||void 0===K?void 0:K.display_type),"px"),left:"".concat(255+3*at(null===(U=Mt[0])||void 0===U?void 0:U.display_type),"px")},children:"\u795d"},"header_date_type_title_dateType5"),(0,tt.jsx)(g.Z,{align:"center",style:{background:"#fff",zIndex:999,borderLeft:"none",color:"#000",position:"sticky",left:"".concat(255+at(null===(X=Mt[0])||void 0===X?void 0:X.display_type)*Number((null===($=Mt[0])||void 0===$?void 0:$.display_type)+1),"px")},children:" "},"header_date_type_title_dateType1")]}),(0,tt.jsx)(g.Z,{align:"center",style:{background:"#fff",zIndex:999,borderLeft:"none",color:"#000",whiteSpace:"nowrap",position:"sticky",minWidth:"".concat(at(null===(nt=Mt[0])||void 0===nt?void 0:nt.display_type),"px"),left:"".concat(Ft?230+at(null===(et=Mt[0])||void 0===et?void 0:et.display_type)*((null===(ot=Mt[0])||void 0===ot?void 0:ot.display_type)+1)+115:230,"px")},children:0===(null===(rt=Mt[0])||void 0===rt?void 0:rt.display_type)?"\u5e73\u571f\u65e5\u795d":"\u5e73"},"header_date_type_title_dateType2"),(null===(dt=Mt[0])||void 0===dt?void 0:dt.display_type)>0&&(0,tt.jsx)(g.Z,{align:"center",style:{background:"#fff",zIndex:999,borderLeft:"none",color:"#000",whiteSpace:"nowrap",minWidth:"".concat(at(null===(st=Mt[0])||void 0===st?void 0:st.display_type),"px"),left:"".concat(Ft?230+at(null===(ut=Mt[0])||void 0===ut?void 0:ut.display_type)*((null===(ct=Mt[0])||void 0===ct?void 0:ct.display_type)+1)+(115+at(null===(ft=Mt[0])||void 0===ft?void 0:ft.display_type)):230+at(null===(vt=Mt[0])||void 0===vt?void 0:vt.display_type),"px")},children:1===(null===(pt=Mt[0])||void 0===pt?void 0:pt.display_type)?"\u571f\u65e5\u795d":"\u571f"},"header_date_type_title_dateType3"),(null===(_t=Mt[0])||void 0===_t?void 0:_t.display_type)>1&&(0,tt.jsx)(g.Z,{align:"center",style:{background:"#fff",zIndex:999,borderLeft:"none",color:"#000",whiteSpace:"nowrap",minWidth:"".concat(at(null===(gt=Mt[0])||void 0===gt?void 0:gt.display_type),"px"),left:"".concat(Ft?230+at(null===(ht=Mt[0])||void 0===ht?void 0:ht.display_type)*((null===(yt=Mt[0])||void 0===yt?void 0:yt.display_type)+1)+(115+2*at(null===(mt=Mt[0])||void 0===mt?void 0:mt.display_type)):230+2*at(null===(xt=Mt[0])||void 0===xt?void 0:xt.display_type),"px")},children:2===(null===(bt=Mt[0])||void 0===bt?void 0:bt.display_type)?"\u65e5\u795d":"\u65e5"},"header_date_type_title_dateType4"),(null===(Zt=Mt[0])||void 0===Zt?void 0:Zt.display_type)>2&&(0,tt.jsx)(g.Z,{align:"center",style:{background:"#fff",zIndex:999,borderLeft:"none",color:"#000",minWidth:"".concat(at(null===(St=Mt[0])||void 0===St?void 0:St.display_type),"px"),left:"".concat(Ft?230+at(null===(kt=Mt[0])||void 0===kt?void 0:kt.display_type)*((null===(wt=Mt[0])||void 0===wt?void 0:wt.display_type)+1)+(115+3*at(null===(jt=Mt[0])||void 0===jt?void 0:jt.display_type)):230+3*at(null===(Ct=Mt[0])||void 0===Ct?void 0:Ct.display_type),"px")},children:"\u795d"},"header_date_type_title_dateType5"),(0,tt.jsx)(g.Z,{align:"center",style:{background:"#fff",zIndex:999,borderLeft:"none",color:"#000",borderRight:"1px solid rgba(196, 196, 196, 0.4)",position:"sticky",left:"".concat(Ft?it(null!==(Tt=null===(Nt=Mt[0])||void 0===Nt?void 0:Nt.display_type)&&void 0!==Tt?Tt:0)+115+at(null===(It=Mt[0])||void 0===It?void 0:It.display_type)*Number((null===(Rt=Mt[0])||void 0===Rt?void 0:Rt.display_type)+1):it(null!==(Lt=null===(zt=Mt[0])||void 0===zt?void 0:zt.display_type)&&void 0!==Lt?Lt:0),"px")},children:" "},"header_date_type_title_dateType6")]}),(null===Et||void 0===Et?void 0:Et.length)>0&&(null===Et||void 0===Et?void 0:Et.map((function(t,n){var e;return(0,tt.jsx)(g.Z,{align:t.alignCenterTitle?"center":t.align,className:Dt.tableTh,width:null!==(e=t.width)&&void 0!==e?e:"auto",style:{backgroundColor:"".concat("\u795d"!==(null===t||void 0===t?void 0:t.label)&&"\u65e5"!==(null===t||void 0===t?void 0:t.label)&&"\u571f"!==(null===t||void 0===t?void 0:t.label)?"#fff":"\u795d"!==(null===t||void 0===t?void 0:t.label)&&"\u65e5"!==(null===t||void 0===t?void 0:t.label)?"#A8D08D":"#f4c7c3"),color:"#000"},children:t.label},"header_date_type_title_".concat(String(n)))})))]},"header_date_type_title_tableRow2")]})}var Nt=function(t,n){switch(n.type){case vt:return(0,i.Z)((0,i.Z)({},t),{},{holidayListData:n.payload});case _t:return(0,i.Z)((0,i.Z)({},t),{},{tableHeaderAssignedStaffname:n.payload});case pt:return(0,i.Z)((0,i.Z)({},t),{},{tableHeaderTotalAssignedStaffs:n.payload});case gt:return(0,i.Z)((0,i.Z)({},t),{},{isShowCalendar:n.payload.isShowCalendar,staffInfoOnCalendar:n.payload.staffInfoOnCalendar});case ht:return(0,i.Z)((0,i.Z)({},t),{},{isShowTargetSetting:n.payload.isShowTargetSetting,staffDetailTargetSetting:n.payload.staffDetailTargetSetting});case mt:return(0,i.Z)((0,i.Z)({},t),{},{tableHeaderStaffNameArr:n.payload});case yt:return(0,i.Z)((0,i.Z)({},t),{},{tableHeaderAssignedStaffname:n.payload.formatedTableAssignedStaffName,tableHeaderTotalAssignedStaffs:n.payload.formatedTableHeaderTotalAssignedStaffs,tableHeaderListDate:n.payload.formatedTableHeaderlist});case xt:return(0,i.Z)((0,i.Z)({},t),{},{isShowColumn:n.payload});default:return t}},It=function(){var t={calendarData:{loadingCalendar:!1,errorCalendar:"",desiredTime:null,filterPublicDays:[],filterSelectedCallDays:[],filterSelectedDays:[],weekdayStart:0,weekdayEnd:0,weekendStart:0,weekendEnd:0,holidayStart:0,holidayEnd:0,publicHoliday:!0,publicHolidayList:[],showTime:!1,possibleMonthCode:null,possibleDayCode:null,monthSynchronized:T()().format("MM"),yearSynchronized:T()().format("YYYY"),daySynchronized:T()().format("DD"),regularHolidayFriday:!1,regularHolidayMonday:!1,regularHolidaySaturday:!1,regularHolidaySunday:!1,regularHolidayThursday:!1,regularHolidayTuesday:!1,regularHolidayWednesday:!1,privateHolidays:[],isRedirect:!1,currentDaySynchronized:T()().format("YYYY-MM-DD")},holidayListData:[],tableHeaderListDate:[],tableHeaderTotalAssignedStaffs:[],tableHeaderAssignedStaffname:[],tableHeaderStaffNameArr:[],isShowCalendar:!1,isShowTargetSetting:!1,isShowColumn:!1,staffDetailTargetSetting:{},staffInfoOnCalendar:{}},n=(0,I.useReducer)(Nt,t),e=(0,d.Z)(n,2);return{state:e[0],dispatch:e[1]}},Rt=(0,K.Z)((function(t){return(0,U.Z)({root:{width:"100%"},table:{tableLayout:"fixed",overflowX:"scroll",minWidth:"100%",scrollBehavior:"smooth","&::-webkit-scrollbar":{height:"8px",width:"8px",background:"#E5E5E5",borderRadius:"10px",marginTop:"10px",marginBottom:"10px"},"&::-webkit-scrollbar-thumb":{background:"#606060",borderRadius:"10px",height:"8px",width:"8px"},"& th":{padding:"4px 10px 4px 10px"},"& td":{padding:"4px 10px 4px 10px"}},setHeaderPosition:{width:"100%",background:"#fff",zIndex:999,"& th":{padding:"5px",background:"#fff"},"& th:first-child":{left:0,position:"sticky",zIndex:999},"& td:first-child":{left:0,position:"sticky"}},setBorderTopColor:{"& th":{borderTop:"1px solid #27a8e0"}},setBorderBottomColor:{"& th":{borderBottom:"1px solid #27a8e0"}},setBorderLeftAndRightColor:{"& th":{"&:not(:first-child)":{borderLeft:"1px solid rgba(196, 196, 196, 0.3)"}},"& th:first-child":{borderLeft:"1px solid #27a8e0"},"& th:last-child":{borderRight:"1px solid #27a8e0"}},cssHeaderRow:{},setStyleShiftStatusClose:{display:"block !important",margin:"auto"},setStyleShiftStatusCircle:{display:"block !important",margin:"auto",border:"2px solid #000",borderRadius:"100%",color:"#fff",width:"18px !important",height:"18px !important"},tableEllipsis:{whiteSpace:"nowrap",overflow:"hidden",maxWidth:"100px",tableLayout:"fixed",textAlign:"left"},paddingTooltip:{color:"#fff",padding:"8px",fontSize:"1rem !important",maxWidth:"300px",wordWrap:"break-word",fontFamily:"Roboto,Helvetica,Arial,sans-serif",fontWeight:500,letterSpacing:"1px",lineHeight:"1.4em",borderTadius:"4px",backgroundColor:"rgba(96, 96, 96, 0.9)"},rowOnHead:{"& th":{background:t.palette.primary.light,color:"#fff",padding:"0",minWidth:"40px"}},setRowBodyStyle:{height:"40px","& td":{padding:"0","&:not(:first-child)":{borderLeft:"1px solid rgba(196, 196, 196, 0.3)"}}},setBorderNone:{"& td":{border:"none"}},setBorderRight:{borderRight:"1px solid rgba(196, 196, 196, 0.4)"},tableTh:{background:"inherit"},cssSaveButton:{width:"300px","&:disabled":{backgroundColor:"#e0e0e0",color:"#a7a7a7"}},cssSaveButtonSmallSize:{width:"100px"},cssFooter:{marginTop:"2rem",display:"flex",justifyContent:"center"},cssHeaderBorder:{background:"inherit",left:0,top:0,position:"sticky",zIndex:999},stickyTableCell:{"& th:first-child":{left:0,position:"sticky",zIndex:999,border:"none"},"& td:first-child":{left:0,position:"sticky"}},stickyTableFull:{maxHeight:"1600px","& th":{fontSize:"16px"},"& td":{fontSize:"16px"}},setBorderTopRight:{"& th:last-child":{borderTopRightRadius:"5px"}},tableContainerRadiusTop:{borderTopLeftRadius:"5px",borderTopRightRadius:"5px"},cssPopup2:{display:"flex",alignItems:"center",justifyContent:"flex-start",flexDirection:"column",width:"700px",height:"300px"},cssPopup2Checkbox:{display:"flex",alignItems:"center",justifyContent:"center",margin:"1rem 0"},cssAddRemoveColumnBtn:{"&:hover":{cursor:"pointer"}}})})),Lt=e(3441),zt=function(){var t,n=Rt(),e=(0,z.k6)().location.pathname,A=It(),E=A.state,B=A.dispatch,M=(0,I.useState)([]),W=(0,d.Z)(M,2),Y=W[0],F=W[1],P=(0,R.cI)({mode:"onChange",defaultValues:{}}),G=P.handleSubmit,J=P.control,q=P.setValue,V=(P.getValues,P.formState.errors),Q=(0,et.Z)(),K=Q.get("id")||"",U=Q.get("status")||"",X=Q.get("period_start_date")||"",it=Q.get("period_end_date")||"",at=(0,N.Ds)().enqueueSnackbar,lt=E.isShowCalendar,st=E.isShowTargetSetting,vt=E.staffDetailTargetSetting,pt=E.tableHeaderListDate,_t=E.tableHeaderTotalAssignedStaffs,gt=E.tableHeaderAssignedStaffname,ht=E.staffInfoOnCalendar,mt=E.isShowColumn,xt=(0,I.useState)(!0),wt=(0,d.Z)(xt,2),jt=wt[0],At=wt[1],Nt=function(){var t=(0,r.Z)((0,o.Z)().mark((function t(n){var e,i,a,r,d,l,s,u;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return B(St({isShowTargetSetting:!1,staffDetailTargetSetting:{}})),t.prev=1,At(!0),e={shift_assignment_id:(null===vt||void 0===vt?void 0:vt.shift_assignment_id)||"",target_shift_number_holiday:Number(null===n||void 0===n?void 0:n.target_shift_number_holiday)||0,target_shift_number_saturday:Number(null===n||void 0===n?void 0:n.target_shift_number_saturday)||0,target_shift_number_sunday:Number(null===n||void 0===n?void 0:n.target_shift_number_sunday)||0,target_shift_number_weekday:Number(null===n||void 0===n?void 0:n.target_shift_number_weekday)||0},t.next=6,(0,D.sK)(e);case 6:at(Lt.v.successText,{variant:"success"}),Yt(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),r=null===t.t0||void 0===t.t0||null===(i=t.t0.response)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.messages,(0,w.isArray)(r)&&(null===r||void 0===r?void 0:r.length)>0?r.forEach((function(t){at(t||"",{variant:"error"})})):at((null===t.t0||void 0===t.t0||null===(d=t.t0.response)||void 0===d||null===(l=d.data)||void 0===l?void 0:l.messages)||(null===t.t0||void 0===t.t0||null===(s=t.t0.response)||void 0===s||null===(u=s.data)||void 0===u?void 0:u.errors)||"\u30b5\u30fc\u30d0\u30fc\u5074\u3067\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002",{variant:"error"});case 14:return t.prev=14,At(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,10,14,17]])})));return function(n){return t.apply(this,arguments)}}(),zt=function(t){var n=[];return Y.forEach((function(t){null===t||void 0===t||t.list_staff_detail.forEach((function(e){null===e||void 0===e||e.shift_detail.forEach((function(i){gt.forEach((function(o){(null===t||void 0===t?void 0:t.group_id)===(null===o||void 0===o?void 0:o.group_id)&&(null===o||void 0===o||o.list_staff_detail.forEach((function(t){if((null===e||void 0===e?void 0:e.staff_id)===(null===t||void 0===t?void 0:t.staff_id)){var o=[];t.shift_detail.forEach((function(t){var n;(null===i||void 0===i?void 0:i.date_register)===(null===t||void 0===t?void 0:t.date_register)&&((null===i||void 0===i?void 0:i.shift_detail_status)===(null===t||void 0===t?void 0:t.shift_detail_status)&&(null===i||void 0===i?void 0:i.admin_assign_status)===(null===t||void 0===t?void 0:t.admin_assign_status)||(o=[].concat((0,a.Z)(o),[{staff_shift_detail_id:null!==(n=null===t||void 0===t?void 0:t.staff_shift_detail_id)&&void 0!==n?n:"",shift_detail_status:null===t||void 0===t?void 0:t.shift_detail_status,admin_assign_status:null===t||void 0===t?void 0:t.admin_assign_status,date_register:null===t||void 0===t?void 0:t.date_register}])))})),o.length>0&&(n=[].concat((0,a.Z)(n),[{assignment_id:null===t||void 0===t?void 0:t.assignment_id,shift_assignment_id:null===t||void 0===t?void 0:t.shift_assignment_id,list_shift_detail:o}]))}})))}))}))}))})),{shift_management_id:K,admin_save:t,assign_staff:n}},Dt=function(){var t=(0,r.Z)((0,o.Z)().mark((function t(){var n,e,i,a,r,d,l,s;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,At(!0),n=zt(0),t.next=5,(0,D.MQ)(n);case 5:at(Lt.v.successText,{variant:"success"}),Yt(),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),a=null===t.t0||void 0===t.t0||null===(e=t.t0.response)||void 0===e||null===(i=e.data)||void 0===i?void 0:i.messages,(0,w.isArray)(a)&&(null===a||void 0===a?void 0:a.length)>0?a.forEach((function(t){at(t||"",{variant:"error"})})):at((null===t.t0||void 0===t.t0||null===(r=t.t0.response)||void 0===r||null===(d=r.data)||void 0===d?void 0:d.messages)||(null===t.t0||void 0===t.t0||null===(l=t.t0.response)||void 0===l||null===(s=l.data)||void 0===s?void 0:s.errors)||"\u30b5\u30fc\u30d0\u30fc\u5074\u3067\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002",{variant:"error"});case 13:return t.prev=13,At(!1),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,9,13,16]])})));return function(){return t.apply(this,arguments)}}(),Ht=function(){var t=(0,r.Z)((0,o.Z)().mark((function t(n){var e,i,a,r,d,l,s,u;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Wt(!1),t.prev=1,At(!0),e=zt(1),t.next=6,(0,D.MQ)(e);case 6:at(Lt.v.successText,{variant:"success"}),Yt(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),r=null===t.t0||void 0===t.t0||null===(i=t.t0.response)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.messages,(0,w.isArray)(r)&&(null===r||void 0===r?void 0:r.length)>0?r.forEach((function(t){at(t||"",{variant:"error"})})):at((null===t.t0||void 0===t.t0||null===(d=t.t0.response)||void 0===d||null===(l=d.data)||void 0===l?void 0:l.messages)||(null===t.t0||void 0===t.t0||null===(s=t.t0.response)||void 0===s||null===(u=s.data)||void 0===u?void 0:u.errors)||"\u30b5\u30fc\u30d0\u30fc\u5074\u3067\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002",{variant:"error"});case 14:return t.prev=14,At(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,10,14,17]])})));return function(n){return t.apply(this,arguments)}}(),Et=(0,I.useState)(!1),Bt=(0,d.Z)(Et,2),Mt=Bt[0],Wt=Bt[1],Yt=function(){var t=(0,r.Z)((0,o.Z)().mark((function t(){var n,e,i,a,r,d,l,s,u,c,f,v,p;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,At(!0),i={shift_management_id:K,period_start_date:X,period_end_date:it},t.next=5,(0,D.Wr)(i);case 5:a=t.sent,r=ut(null===(n=a[0])||void 0===n?void 0:n.date_info,a),d=ot(r),l=ct(d),console.log(l),F(l),s=rt(a),u=ft(l,s),c=dt(null===(e=a[0])||void 0===e?void 0:e.date_info),B({type:yt,payload:{formatedTableAssignedStaffName:l,formatedTableHeaderTotalAssignedStaffs:u,formatedTableHeaderlist:c}}),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(0),p=null===t.t0||void 0===t.t0||null===(f=t.t0.response)||void 0===f||null===(v=f.data)||void 0===v?void 0:v.messages,(0,w.isArray)(p)&&(null===p||void 0===p?void 0:p.length)>0?p.forEach((function(t){at(t||"",{variant:"error"})})):at(t.t0.response.data.messages||t.t0.response.data.errors||"\u30b5\u30fc\u30d0\u30fc\u5074\u3067\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002",{variant:"error"});case 21:return t.prev=21,At(!1),t.finish(21);case 24:case"end":return t.stop()}}),t,null,[[0,17,21,24]])})));return function(){return t.apply(this,arguments)}}();return(0,I.useEffect)((function(){Yt()}),[]),(0,I.useEffect)((function(){q("target_shift_number_weekday",(null===vt||void 0===vt?void 0:vt.target_shift_number_weekday)||0),q("target_shift_number_saturday",(null===vt||void 0===vt?void 0:vt.target_shift_number_saturday)||0),q("target_shift_number_sunday",(null===vt||void 0===vt?void 0:vt.target_shift_number_sunday)||0),q("target_shift_number_holiday",(null===vt||void 0===vt?void 0:vt.target_shift_number_holiday)||0)}),[vt]),(0,tt.jsx)(O.Z,{isLoading:jt,children:(0,tt.jsx)($.Provider,{value:{state:E,dispatch:B},children:(0,tt.jsxs)(l.Z,{margin:"1rem",style:{height:"auto"},children:[mt?(0,tt.jsx)(s.Z,{title:"\u5b9f\u7e3e\u5f53\u76f4\u6570\u3092\u975e\u8868\u793a",arrow:!0,TransitionComponent:u.Z,placement:"top",classes:{tooltip:n.paddingTooltip},children:(0,tt.jsx)(C.Z,{className:n.cssAddRemoveColumnBtn,onClick:function(){B(kt(!1))}})}):(0,tt.jsx)(s.Z,{title:"\u5b9f\u7e3e\u5f53\u76f4\u6570\u3092\u8868\u793a",arrow:!0,TransitionComponent:u.Z,placement:"top",classes:{tooltip:n.paddingTooltip},children:(0,tt.jsx)(j.Z,{className:n.cssAddRemoveColumnBtn,onClick:function(){B(kt(!0))}})}),(0,tt.jsx)(c.Z,{component:f.Z,className:(0,k.Z)(n.stickyTableFull,n.tableContainerRadiusTop),children:(0,tt.jsxs)(v.Z,{stickyHeader:!0,"aria-labelledby":"tableTitle","aria-label":"sticky table",children:[(0,tt.jsx)(Tt,{classes:n,data:gt,tableHeaderTotalAssignedStaffs:_t,tableHeaderListDate:pt,isShowColumn:mt},"table_header_staff_assignment"),(0,tt.jsx)(p.Z,{children:0===gt.length?(0,tt.jsx)(_.Z,{children:(0,tt.jsx)(g.Z,{colSpan:pt.length,align:"center",children:"\u30c7\u30fc\u30bf\u304c\u3042\u308a\u307e\u305b\u3093\u3002"})}):(0,tt.jsx)(tt.Fragment,{children:gt.map((function(t,e){return(0,tt.jsx)(Ct,{data:t,index:e,classes:n,isShowColumn:mt},"table_body_staff_assignment_".concat(String(e)))}))})})]})}),(0,tt.jsxs)(l.Z,{className:n.cssFooter,children:[(0,tt.jsx)(L.rU,{to:"".concat(e,"/printOrDownload?id=").concat(K,"&period_start_date=").concat(X,"&period_end_date=").concat(it),style:{textDecoration:"none"},children:(0,tt.jsx)(H.Z,{type:"button",className:n.cssSaveButton,style:{background:"#27a8e0",color:"#fff",fontSize:"20px",marginRight:"20px"},children:"\u5370\u5237/\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9"})}),(0,tt.jsx)(H.Z,{type:"button",className:n.cssSaveButton,disabled:"2"===U,style:{background:"#27a8e0",color:"#fff",fontSize:"20px",marginRight:"20px"},onClick:Dt,children:"\u4e0b\u66f8\u304d\u4fdd\u5b58"}),(0,tt.jsx)(H.Z,{type:"button",className:n.cssSaveButton,disabled:"2"===U,style:{background:"#27a8e0",color:"#fff",fontSize:"20px"},onClick:function(){Wt(!0)},children:"\u516c\u958b/\u4fee\u6b63"})]}),(0,tt.jsx)(h.Z,{onClose:function(){B(Zt({isShowCalendar:!1,staffInfoOnCalendar:{}}))},"aria-labelledby":"customized-dialog-title",open:lt,maxWidth:"sm",children:(0,tt.jsx)(y.Z,{dividers:!0,children:(0,tt.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:(0,tt.jsx)(nt,{handleSaveFromChild:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0!==(null===t||void 0===t?void 0:t.length)){var n=t.map((function(t){return(0,i.Z)((0,i.Z)({},t),{},{date:T()(null===t||void 0===t?void 0:t.date).format("YYYY-MM-DD")})})),e=gt.map((function(t){return(0,i.Z)((0,i.Z)({},t),{},{list_staff_detail:null===t||void 0===t?void 0:t.list_staff_detail.map((function(t){return(null===t||void 0===t?void 0:t.staff_id)===ht.staffId?(0,i.Z)((0,i.Z)({},t),{},{shift_detail:null===t||void 0===t?void 0:t.shift_detail.map((function(t){var e=(0,i.Z)({},t);return(null===n||void 0===n?void 0:n.length)>0&&(null===n||void 0===n||n.forEach((function(n){var i;(null===t||void 0===t?void 0:t.date_register)===(null===n||void 0===n?void 0:n.date)&&(e.shift_detail_status=Number(null!==(i=null===n||void 0===n?void 0:n.status)&&void 0!==i?i:0))}))),e}))}):(0,i.Z)({},t)}))})}));B(bt(e)),B(Zt({isShowCalendar:!1,staffInfoOnCalendar:{}}))}}})})})}),(0,tt.jsx)(h.Z,{onClose:function(){B(St({isShowTargetSetting:!1,staffDetailTargetSetting:{}}))},"aria-labelledby":"customized-dialog-title",open:st||!1,maxWidth:"md",children:(0,tt.jsx)(y.Z,{dividers:!0,children:(0,tt.jsxs)("form",{onSubmit:G(Nt),children:[(0,tt.jsx)("h2",{style:{textAlign:"center"},children:"\u76ee\u6a19\u5f53\u76f4\u6570\u8a2d\u5b9a"}),(0,tt.jsxs)(m.ZP,{container:!0,style:{display:"flex",alignItems:"center",width:"500px",justifyContent:"center"},children:[(0,tt.jsx)(m.ZP,{item:!0,lg:4,style:{textAlign:"center"},children:"".concat(null!==(t=null===vt||void 0===vt?void 0:vt.staff_name)&&void 0!==t?t:" "," \u5148\u751f")}),(0,tt.jsx)(m.ZP,{item:!0,lg:2,children:(0,tt.jsx)(R.Qr,{name:"target_shift_number_weekday",control:J,defaultValue:(null===vt||void 0===vt?void 0:vt.target_shift_number_weekday)||0,render:function(t){var n,e=t.field;return(0,tt.jsx)(x.Z,{variant:"outlined",children:(0,tt.jsx)(b.Z,(0,i.Z)((0,i.Z)({},e),{},{inputRef:e.ref,size:"small",label:"\u5e73",onChange:function(t){t.preventDefault();var n=t.target.value.replace(/[^0-9]/g,"")||"";e.onChange(n)},inputProps:{maxLength:2},style:{width:"50px",margin:"0.5rem"},error:!(null===V||void 0===V||!V.target_shift_number_weekday),helperText:null===V||void 0===V||null===(n=V.target_shift_number_weekday)||void 0===n?void 0:n.message}))})}})}),(0,tt.jsx)(m.ZP,{item:!0,lg:2,children:(0,tt.jsx)(R.Qr,{name:"target_shift_number_saturday",control:J,defaultValue:(null===vt||void 0===vt?void 0:vt.target_shift_number_saturday)||0,render:function(t){var n,e=t.field;return(0,tt.jsx)(x.Z,{variant:"outlined",children:(0,tt.jsx)(b.Z,(0,i.Z)((0,i.Z)({},e),{},{inputRef:e.ref,size:"small",label:"\u571f",onChange:function(t){t.preventDefault();var n=t.target.value.replace(/[^0-9]/g,"")||"";e.onChange(n)},inputProps:{maxLength:2},style:{width:"50px",margin:"0.5rem"},error:!(null===V||void 0===V||!V.target_shift_number_saturday),helperText:null===V||void 0===V||null===(n=V.target_shift_number_saturday)||void 0===n?void 0:n.message}))})}})}),(0,tt.jsx)(m.ZP,{item:!0,lg:2,children:(0,tt.jsx)(R.Qr,{name:"target_shift_number_sunday",control:J,defaultValue:(null===vt||void 0===vt?void 0:vt.target_shift_number_sunday)||0,render:function(t){var n,e=t.field;return(0,tt.jsx)(x.Z,{variant:"outlined",children:(0,tt.jsx)(b.Z,(0,i.Z)((0,i.Z)({},e),{},{inputRef:e.ref,size:"small",label:"\u65e5",onChange:function(t){t.preventDefault();var n=t.target.value.replace(/[^0-9]/g,"")||"";e.onChange(n)},inputProps:{maxLength:2},style:{width:"50px",margin:"0.5rem"},error:!(null===V||void 0===V||!V.target_shift_number_sunday),helperText:null===V||void 0===V||null===(n=V.target_shift_number_sunday)||void 0===n?void 0:n.message}))})}})}),(0,tt.jsx)(m.ZP,{item:!0,lg:2,children:(0,tt.jsx)(R.Qr,{name:"target_shift_number_holiday",control:J,defaultValue:(null===vt||void 0===vt?void 0:vt.target_shift_number_holiday)||0,render:function(t){var n,e=t.field;return(0,tt.jsx)(x.Z,{variant:"outlined",children:(0,tt.jsx)(b.Z,(0,i.Z)((0,i.Z)({},e),{},{inputRef:e.ref,size:"small",label:"\u795d",onChange:function(t){t.preventDefault();var n=t.target.value.replace(/[^0-9]/g,"")||"";e.onChange(n)},inputProps:{maxLength:2},style:{width:"50px",margin:"0.5rem"},error:!(null===V||void 0===V||!V.target_shift_number_holiday),helperText:null===V||void 0===V||null===(n=V.target_shift_number_holiday)||void 0===n?void 0:n.message}))})}})}),(0,tt.jsx)(H.Z,{type:"submit",className:n.cssSaveButtonSmallSize,style:{background:"#27a8e0",color:"#fff",fontSize:"20px",marginTop:"2rem"},children:"\u4fdd\u5b58"})]})]})})}),(0,tt.jsx)(h.Z,{onClose:function(){Wt(!1)},"aria-labelledby":"customized-dialog-title",open:Mt,maxWidth:"md",children:(0,tt.jsx)(y.Z,{dividers:!0,children:(0,tt.jsxs)("div",{className:n.cssPopup2,children:[(0,tt.jsx)(Z.Z,{variant:"h4",children:"\u516c\u958b/\u7de8\u96c6\u3092\u78ba\u5b9a"}),(0,tt.jsx)(Z.Z,{variant:"h6",style:{marginTop:"2rem",width:"600px"},children:"\u8aac\u660e\u6587\u304c\u5165\u308a\u307e\u3059\u3002\u8aac\u660e\u6587\u304c\u5165\u308a\u307e\u3059\u3002\u8aac\u660e\u6587\u304c\u5165\u308a\u307e\u3059\u3002\u8aac\u660e\u6587\u304c\u5165\u308a\u307e\u3059\u3002\u8aac\u660e\u6587\u304c\u5165\u308a\u307e\u3059\u3002"}),(0,tt.jsxs)("div",{className:n.cssPopup2Checkbox,children:[(0,tt.jsx)(S.Z,{}),(0,tt.jsx)(Z.Z,{variant:"h6",children:"\u30b9\u30bf\u30c3\u30d5\u306b\u516c\u958b/\u5909\u66f4\u3092\u901a\u77e5\u3059\u308b"})]}),(0,tt.jsx)(H.Z,{type:"button",className:n.cssSaveButton,style:{background:"#27a8e0",color:"#fff",fontSize:"20px",marginTop:"2rem"},onClick:Ht,children:"\u4fdd\u5b58"})]})})})]})})})}},3441:function(t,n,e){e.d(n,{l:function(){return a},v:function(){return i}});var i={successText:"\u4fdd\u5b58\u3057\u307e\u3057\u305f\u3002",noData:"\u30c7\u30fc\u30bf\u306f\u3042\u308a\u307e\u305b\u3093\u3002",succeedDelete:"\u524a\u9664\u3057\u307e\u3057\u305f\u3002"},a=[20,50,100]}}]);
//# sourceMappingURL=668.bfc6c3c5.chunk.js.map